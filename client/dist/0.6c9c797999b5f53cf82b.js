(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{82:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(0);c(83);const a=(e,t,c,a)=>{let i=Object(n.c)("div","project-img"),o=Object(n.c)("div","img-wrapper");i.appendChild(o);let d=Object(n.c)("div","inner-img-wrap");if(o.appendChild(d),d.appendChild(Object(n.c)("img","img")).src=e,!0===c){let e=d.appendChild(Object(n.c)("div","modal"));e.classList.add("project-modal","modal-slide");e.appendChild(Object(n.c)("span","modal-span")),e.childNodes[0].appendChild(Object(n.c)("h2","project-title"));e.childNodes[0].childNodes[0].innerText=t}return i}},83:function(e,t,c){var n=c(1),a=c(84);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=(n(a,i),a.locals?a.locals:{});e.exports=o},84:function(e,t,c){},87:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(5);const a=Object(n.a)();let i=async e=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e)},88:function(e,t,c){"use strict";c.d(t,"c",(function(){return i})),c.d(t,"a",(function(){return o})),c.d(t,"d",(function(){return d})),c.d(t,"b",(function(){return l}));var n=c(5);const a=Object(n.a)();let i=async()=>await fetch(`${a}/projects`).then(e=>e.json()).then(e=>e);const o=async e=>{console.log("ere"),console.log(JSON.stringify(e));const t=await fetch(`${a}/projects`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)},d=async(e,t)=>{console.log(JSON.stringify(e));await fetch(`${a}/projects/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},l=async e=>{const t=await fetch(`${a}/projects/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)}},91:function(e,t,c){"use strict";c.r(t),c.d(t,"Projects",(function(){return p}));var n=c(0),a=c(7),i=(c(87),c(82)),o=c(3),d=c(88),l=c(4),s=c(92);c(93);const r=e=>{for(;e.childNodes.length;)e.removeChild(e.lastChild)};async function p(){let e=Object(n.e)(".main-content-scrollable");r(e),e.appendChild(Object(n.c)("div","loading")).innerHTML="loading...";const t=await Object(d.c)();r(e);const c=e.clientWidth;if(t.forEach(async(t,o)=>{let r=e.appendChild(Object(n.c)("div","project-wrap")),h=r.appendChild(Object(i.a)(`src/img/${t.img_url}`,t.name,!0,t.site_url));console.log(h);let j="false",u=Object(n.c)("div","link-modal"),b=Object(n.f)(".img-wrapper"),m=Object(n.f)(".inner-img-wrap"),f=Object(n.c)("div","tech-icons");t.technologies.forEach(e=>{f.appendChild(Object(n.c)("img","tech-icon")).src=`src/img/${e.icon_url}`});let g=Object(n.c)("div","description");if(g.innerHTML=t.description,c<900?(u.appendChild(f),u.appendChild(g)):(u.appendChild(g),u.appendChild(f)),u.appendChild(Object(n.c)("div","link-modal-icons")).innerHTML=`<div><a href=${t.site_url} target='_blank'><i class="fas fa-home fa-fw"></i></a>\n    <p class='home-tool-tip'>website</p></div>\n\n    <div><a href=${t.github_url} target='_blank'><i class="fab fa-github"></i></a>\n    <p class='github-tool-tip'>github</p></div>`,console.log(m[0].children[1]),b[o].addEventListener("click",async()=>{if("true"===j)j="false",m[o].classList.add("close-curtain"),m[o].classList.remove("open-curtain"),b[o].lastChild.remove(),b[o].style.width="80%",b[o].style.padding="6%",b[o].style.margin="0",r.style.margin="0 10% 3% 10%",m[o].style.width="100%",r.classList.remove("project-wrap-click"),h.lastChild.remove();else if("false"===j){j="true",m[o].classList.add("open-curtain"),m[o].classList.remove("close-curtain"),b[o].appendChild(u),c<900?(b[o].style.flexDirection="column",u.style.width="90%",f.style.width="80%",u.style.marginTop="5%",u.style.background="rgb(240, 253, 253)"):(b[o].style.width="90%",b[o].style.padding="2%",b[o].style.margin="0 auto",r.style.margin="0 1%",m[o].style.width="99%",m[o].style.height="99%"),h.appendChild(f),console.log(h),b[o].style.setProperty("--animation","animate-img-wrapper 1.5s linear forwards"),r.classList.add("project-wrap-click")}}),await Object(a.d)()){const e=Object(n.c)("div","edit-project-wrapper"),c=Object(l.a)("show-edit-button","submit","update");c.addEventListener("click",()=>{console.log(r.lastChild.className),"edit-project-form"!==r.lastChild.className?Object(s.EditProject)(r,t):r.lastChild.remove()}),e.appendChild(c);const a=Object(l.a)("delete-project","submit","delete");a.addEventListener("click",async()=>{let e=confirm(`Are you sure you want to delete ${t.name}?`);e&&await Object(d.b)(t.id),e&&await p()}),e.appendChild(a),r.appendChild(e)}}),await Object(a.d)()){let c=Object(l.a)("show-add-form","submit","add project");c.addEventListener("click",()=>{console.log(e.lastChild.className),"show-add-form"===e.lastChild.className?Object(s.EditProject)(e,t[0],"addProject"):e.lastChild.remove()}),Object(n.b)(e,c)}e.appendChild(Object(o.a)())}},92:function(e,t,c){"use strict";c.r(t),c.d(t,"EditProject",(function(){return l}));var n=c(4),a=c(87),i=c(88),o=c(91),d=c(0);const l=async(e,t,c)=>{if(console.log("add",c),"addProject"===c)for(let e in t)t[e]="";let l={},s=e=>{l[e.target.name]=e.target.value},r=Object(n.c)("edit-project-form"),p=Object(d.c)("div","edit-form-inputs");r.appendChild(p),Object.keys(t).forEach(e=>{if("id"!==e&&"technologies"!==e&&"created_at"!==e&&"updated_at"!==e){l[e]=t[e];const a=Object(n.d)({className:"edit-form-input",name:e,type:"text",value:"addProject"===c?"":l[e],placeholder:e,handleChange:s});p.appendChild(a)}});const h=Object(d.c)("div","edit-form-checkboxes");r.appendChild(h),(await Object(a.a)()).map(e=>{let a;void 0===c&&t.technologies.forEach(t=>{e.name===t.name&&(console.log(e.name,t.name),a="checked")});let i=Object(n.b)({className:"edit-project-chkbox",name:e.name,id:e.name,value:e.id,checked:"addProject"===c?"":a});h.appendChild(i),h.appendChild(Object(n.e)("tech-box-label",e.name,"tech-box"))}),r.appendChild(Object(n.a)("edit-project-button","submit","addProject"===c?"add new project":"submit")),Object(d.b)(e,r),r.addEventListener("submit",async e=>{e.preventDefault(),console.log("add",c);const n=document.querySelectorAll("input[type=checkbox]:checked");console.log(n),l.technologies=[],n.forEach(e=>{l.technologies.push(e.value)}),console.log("add",l),"addProject"===c?await Object(i.a)(l):await Object(i.d)(l,t.id),await Object(o.Projects)()})}},93:function(e,t,c){var n=c(1),a=c(94);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=(n(a,i),a.locals?a.locals:{});e.exports=o},94:function(e,t,c){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaGFyZWQvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL2ltYWdlLnNjc3M/NDQ2MSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvRWRpdFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvcHJvamVjdHMuc2NzcyJdLCJuYW1lcyI6WyJJbWFnZSIsInNyYyIsInRpdGxlIiwibW9kYWwiLCJzaXRlX3VybCIsInByb2plY3RJbWciLCJpbWdXcmFwcGVyIiwiYXBwZW5kQ2hpbGQiLCJkaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJjaGlsZE5vZGVzIiwiaW5uZXJUZXh0IiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJiYXNlVXJsIiwiZ2V0VGVjaG5vbG9naWVzIiwiYXN5bmMiLCJ0eXBlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImFucyIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsImhlYWRlcnMiLCJkYXRhIiwidXBkYXRlUHJvamVjdCIsImlkIiwiZGVsZXRlUHJvamVjdCIsImNsZWFyUGFnZSIsImVsZW1lbnQiLCJsZW5ndGgiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsIlByb2plY3RzIiwibWFpbkNvbnRlbnQiLCJpbm5lckhUTUwiLCJyZXNwIiwiY29udGFpbmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImZvckVhY2giLCJwcm9qZWN0IiwiaW5kZXgiLCJwcm9qZWN0V3JhcCIsImltYWdlIiwiaW1nX3VybCIsIm5hbWUiLCJib29sIiwibGlua01vZGFsIiwiaW5uZXJJbWdXcmFwIiwidGVjaEljb25zIiwidGVjaG5vbG9naWVzIiwiaWNvbiIsImljb25fdXJsIiwiZGVzY3JpcHRpb24iLCJnaXRodWJfdXJsIiwiY2hpbGRyZW4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwic3R5bGUiLCJ3aWR0aCIsInBhZGRpbmciLCJtYXJnaW4iLCJmbGV4RGlyZWN0aW9uIiwibWFyZ2luVG9wIiwiYmFja2dyb3VuZCIsImhlaWdodCIsInNldFByb3BlcnR5IiwiZWRpdFByb2plY3RXcmFwcGVyIiwiZWRpdEJ1dHRvbiIsImNsYXNzTmFtZSIsImRlbGV0ZUJ1dHRvbiIsImFuc3dlciIsImNvbmZpcm0iLCJhZGRCdG4iLCJFZGl0UHJvamVjdCIsIml0ZW0iLCJuZXdQcm9qZWN0IiwiaGFuZGxlQ2hhbmdlIiwiZSIsInRhcmdldCIsInZhbHVlIiwiZm9ybSIsImlucHV0cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwiY2hlY2tzIiwibWFwIiwidGVjaG5vbG9neSIsImNoZWNrZWQiLCJ1bmRlZmluZWQiLCJwcm9qZWN0VGVjaG5vbG9neSIsImJ4IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJjaGVja2JveGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm94IiwicHVzaCJdLCJtYXBwaW5ncyI6InlGQUFBLG1EQUVPLE1BQU1BLEVBQVEsQ0FBQ0MsRUFBS0MsRUFBT0MsRUFBT0MsS0FFdkMsSUFBSUMsRUFBYSxZQUFLLE1BQU8sZUFFekJDLEVBQWEsWUFBSyxNQUFPLGVBQzdCRCxFQUFXRSxZQUFZRCxHQUN2QixJQUFJRSxFQUFNLFlBQUssTUFBTyxrQkFR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QUlnRSxFQUFXN0MsS0FDZm1DLE1BQU9VLEVBQVdoRSxHQUNsQmlFLFFBQXdCLGVBQWYzRSxFQUE4QixHQUFLMkUsSUFHOUNILEVBQU9sRyxZQUFZd0csR0FDbkJOLEVBQU9sRyxZQUFZLFlBQU0saUJBQWtCb0csRUFBVzdDLEtBQU0sZUFHOURvQyxFQUFLM0YsWUFDSCxZQUNFLHNCQUNBLFNBQ2UsZUFBZjBCLEVBQThCLGtCQUFvQixXQUt0RCxZQUFHMEIsRUFBYXVDLEdBTWhCQSxFQUFLekIsaUJBQWlCLFNBQVVoRCxNQUFPdUYsSUFDckNBLEVBQUlDLGlCQUNKOUUsUUFBUUMsSUFBSSxNQUFPSCxHQUVuQixNQUFNaUYsRUFBYUMsU0FBU0MsaUJBQWlCLGdDQUM3Q2pGLFFBQVFDLElBQUk4RSxHQUNackIsRUFBVzFCLGFBQWUsR0FDMUIrQyxFQUFXMUQsUUFBUzZELElBQ2xCeEIsRUFBVzFCLGFBQWFtRCxLQUFLRCxFQUFJcEIsU0FFbkM5RCxRQUFRQyxJQUFJLE1BQU95RCxHQUNKLGVBQWY1RCxRQUNVLFlBQWM0RCxTQUNkLFlBQWNBLEVBQVlwQyxFQUFRZCxVQUV0Qyx5QixtQkMzR1YsSUFBSTlCLEVBQU0sRUFBUSxHQUNGQyxFQUFVLEVBQVEsSUFJQyxpQkFGdkJBLEVBQVVBLEVBQVFDLFdBQWFELEVBQVFFLFFBQVVGLEtBRy9DQSxFQUFVLENBQUMsQ0FBQ0csRUFBT0MsRUFBSUosRUFBUyxNQUc5QyxJQUFJSyxFQUFVLENBRWQsT0FBaUIsT0FDakIsV0FBb0IsR0FJaEJDLEdBRlNQLEVBQUlDLEVBQVNLLEdBRVhMLEVBQVFPLE9BQVNQLEVBQVFPLE9BQVMsSUFJakRKLEVBQU9LLFFBQVVGLEciLCJmaWxlIjoiMC42YzljNzk3OTk5YjVmNTNjZjgyYi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNlY2wsIHFzIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyLmpzXCJcbmltcG9ydCBcIi4vaW1hZ2Uuc2Nzc1wiXG5leHBvcnQgY29uc3QgSW1hZ2UgPSAoc3JjLCB0aXRsZSwgbW9kYWwsIHNpdGVfdXJsKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKHNyYylcbiAgbGV0IHByb2plY3RJbWcgPSBjZWNsKFwiZGl2XCIsIFwicHJvamVjdC1pbWdcIilcblxuICBsZXQgaW1nV3JhcHBlciA9IGNlY2woXCJkaXZcIiwgXCJpbWctd3JhcHBlclwiKVxuICBwcm9qZWN0SW1nLmFwcGVuZENoaWxkKGltZ1dyYXBwZXIpXG4gIGxldCBkaXYgPSBjZWNsKFwiZGl2XCIsIFwiaW5uZXItaW1nLXdyYXBcIilcbiAgaW1nV3JhcHBlci5hcHBlbmRDaGlsZChkaXYpXG5cblxuICBsZXQgaW1nID0gZGl2LmFwcGVuZENoaWxkKGNlY2woXCJpbWdcIiwgXCJpbWdcIikpXG4gIGltZy5zcmMgPSBzcmNcblxuXG4gIGlmIChtb2RhbCA9PT0gdHJ1ZSkge1xuICAgIGxldCBtb2RhbCA9IGRpdi5hcHBlbmRDaGlsZChjZWNsKFwiZGl2XCIsIFwibW9kYWxcIikpXG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZChcInByb2plY3QtbW9kYWxcIiwgXCJtb2RhbC1zbGlkZVwiKVxuICAgIGxldCBtb2RhbFNwYW4gPSBtb2RhbC5hcHBlbmRDaGlsZChjZWNsKFwic3BhblwiLCBcIm1vZGFsLXNwYW5cIikpXG4gICAgbGV0IGgyID0gbW9kYWwuY2hpbGROb2Rlc1swXS5hcHBlbmRDaGlsZChjZWNsKFwiaDJcIiwgXCJwcm9qZWN0LXRpdGxlXCIpKVxuICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSB0aXRsZVxuXG4gICAgLy8gY29uc29sZS5sb2coXCJwcm9qZWN0dGl0bGVcIiwgaDIpXG4gICAgLy8gaWYgKGltZy5oZWlnaHQgPiBpbWcud2lkdGgpIHtcbiAgICAvLyAgIG1vZGFsU3Bhbi5zdHlsZS50cmFuc2Zvcm0gPSBcInNrZXcoLTEwZGVnKSB0cmFuc2xhdGVYKC0zMCUpXCJcbiAgICAvLyAgIG1vZGFsU3Bhbi5zdHlsZS53aWR0aCA9ICc2MCUnXG4gICAgLy8gICBoMi5zdHlsZS50cmFuc2Zvcm0gPSBcInNrZXcoMTBkZWcpIHRyYW5zbGF0ZSgxJSlcIlxuICAgIC8vICAgY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpXG4gICAgLy8gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCk9PntcbiAgICAvLyAgICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA+IDYwMCl7XG4gICAgLy8gICAgIGltZ1dyYXBwZXIuc3R5bGUud2lkdGggPSAnNDAlJ1xuICAgIC8vICAgfWVsc2V7XG4gICAgLy8gICAgIGltZ1dyYXBwZXIuc3R5bGUud2lkdGggPSAnNzAlJ1xuICAgIC8vICAgfVxuICAgIC8vICAgfSlcblxuICAgIC8vICAgLy8gaW1nV3JhcHBlci5zdHlsZS53aWR0aCA9ICc0MCUnXG4gICAgLy8gICAvLyBoMi5zdHlsZS5cbiAgICAvLyB9XG5cblxuXG5cbiAgICAvLyBsaW5rTW9kYWxNb3JlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyBldnQgPT4ge1xuICAgIC8vICAgbGV0IHJlcyA9IGF3YWl0IHNob3dTaW5nbGVJdGVtbShldnQsIGUsIFwicHJvamVjdHNcIik7XG5cbiAgICAvLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250ZW50XCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgLy8gICBuYXZiYXIoeyBwcm9qZWN0OiBlIH0pO1xuICAgIC8vICAgcHJvamVjdHMoXCJwcm9qZWN0XCIsIHtcbiAgICAvLyAgICAgcHJvamVjdDogZSxcbiAgICAvLyAgICAgdGVjaG5vbG9naWVzOiByZXMudGVjaG5vbG9naWVzLFxuICAgIC8vICAgICB0cmFpdHM6IHJlcy50cmFpdHNcbiAgICAvLyAgIH0pO1xuICAgIC8vICAgdGVjaG5vbG9naWVzKFwidGVjaG5vbG9naWVzXCIsIHsgdGVjaG5vbG9naWVzOiByZXMudGVjaG5vbG9naWVzIH0pO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gbGV0IGxpbmtNb2RhbFNpdGVCdG4gPSBtYWtlRWxlbWVudChcImJ1dHRvblwiLCBcInNpdGUtYnV0dG9uXCIsIGxpbmtNb2RhbCwge1xuICAgIC8vICAgaW5uZXJUZXh0OiBcInZpc2l0IHNpdGVcIlxuICAgIC8vIH0pO1xuICAgIC8vIGxpbmtNb2RhbFNpdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2dCA9PiB7XG4gICAgLy8gICBsb2NhdGlvbi5ocmVmID0gZS5zaXRlX3VybDtcbiAgICAvLyAgIHRhcmdldCA9IFwiX2JsYW5rXCI7XG4gICAgLy8gfSk7XG4gIH1cblxuICByZXR1cm4gcHJvamVjdEltZ1xufVxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW1hZ2Uuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJpbXBvcnQgeyBCYXNlVXJsIH0gZnJvbSAnLi9CYXNlVXJsLmpzJ1xuY29uc3QgYmFzZVVybCA9IEJhc2VVcmwoKVxuXG5cblxuXG5leHBvcnQgbGV0IGdldFRlY2hub2xvZ2llcyA9IGFzeW5jICh0eXBlKSA9PiB7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vdGVjaG5vbG9naWVzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG5cbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gdHlwZSwgcmVzdWx0c1xufSIsImltcG9ydCB7IEJhc2VVcmwgfSBmcm9tICcuL0Jhc2VVcmwuanMnXG5jb25zdCBiYXNlVXJsID0gQmFzZVVybCgpXG5cblxuZXhwb3J0IGxldCBnZXRQcm9qZWN0cyA9IGFzeW5jICgpID0+IHtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0c2ApXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuXG4gICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGFucykgPT4ge1xuICAgICAgcmV0dXJuIGFuc1xuICAgIH0pXG5cbiAgcmV0dXJuIHJlc3VsdHNcbn1cblxuZXhwb3J0IGxldCBnZXRQcm9qZWN0ID0gYXN5bmMgKGlkKSA9PiB7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke2lkfWApXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuXG4gICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGFucykgPT4ge1xuICAgICAgcmV0dXJuIGFuc1xuICAgIH0pXG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5cblxuZXhwb3J0IGNvbnN0IGFkZFByb2plY3QgPSBhc3luYyAoYm9keSkgPT4ge1xuICBjb25zb2xlLmxvZygnZXJlJylcbiAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYm9keSkpXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzYCwge1xuICAgIG1ldGhvZDogYHBvc3RgLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIGNvbnNvbGUubG9nKHJlcylcbn1cblxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdCA9IGFzeW5jIChib2R5LCBpZCkgPT4ge1xuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9KVxuXG59XG4vL1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcblxuXG5cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgZGVsZXRlYCxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIGNvbnNvbGUubG9nKHJlcylcbn1cblxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyA9IGFzeW5jIChwcm9qZWN0X2lkLCBpZCkgPT4ge1xuICBjb25zb2xlLmxvZygndXB0JylcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtwcm9qZWN0X2lkfS90ZWNobm9sb2dpZXMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIGNvbnNvbGUubG9nKHJlcylcblxufSIsIi8vIGltcG9ydCBcIi4uL1NoYXJlZC9JbWFnZVwiXG5pbXBvcnQgeyBxcywgcXNhLCBjZWNsLCBhYywgYnRuIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyXCJcbmltcG9ydCB7IHZlcmlmeSB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlBdXRoLmpzXCJcbmltcG9ydCB7IGdldFRlY2hub2xvZ2llcyB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlUZWNoLmpzXCJcbmltcG9ydCB7IEltYWdlIH0gZnJvbSBcIi4uL1NoYXJlZC9JbWFnZS5qc1wiXG5pbXBvcnQgeyBGb290ZXIgfSBmcm9tIFwiLi4vRm9vdGVyL0Zvb3Rlci5qc1wiXG5cblxuaW1wb3J0IHtcbiAgZ2V0UHJvamVjdHMsXG4gIGFkZFByb2plY3QsXG4gIHVwZGF0ZVByb2plY3QsXG4gIGRlbGV0ZVByb2plY3QsXG4gIHVwZGF0ZVByb2plY3RUZWNobm9sb2dpZXMsXG59IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlQcm9qZWN0LmpzXCJcbmltcG9ydCB7IEZvcm0sIElucHV0LCBCdXR0b24sIENoZWNrYm94LCBMYWJlbCB9IGZyb20gXCIuLi9TaGFyZWQvRm9ybS5qc1wiXG5pbXBvcnQgeyBFZGl0UHJvamVjdCB9IGZyb20gXCIuL0VkaXRQcm9qZWN0XCJcbmltcG9ydCBcIi4vcHJvamVjdHMuc2Nzc1wiXG5cbi8qKioqKioqKioqXG4gQ0xFQVIgUEFHRVxuKioqKioqKioqKiovXG5jb25zdCBjbGVhclBhZ2UgPSAoZWxlbWVudCkgPT4ge1xuICB3aGlsZSAoZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5sYXN0Q2hpbGQpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFByb2plY3RzKCkge1xuICBsZXQgbWFpbkNvbnRlbnQgPSBxcyhcIi5tYWluLWNvbnRlbnQtc2Nyb2xsYWJsZVwiKVxuICBjbGVhclBhZ2UobWFpbkNvbnRlbnQpXG4gIGxldCBsb2FkaW5nID0gbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcImxvYWRpbmdcIikpXG4gIGxvYWRpbmcuaW5uZXJIVE1MID0gXCJsb2FkaW5nLi4uXCJcblxuXG4gIC8qKioqKioqKioqKioqKlxuICBSRU5ERVIgUFJPSkVDVFNcbiAgKioqKioqKioqKioqKioqL1xuICBjb25zdCByZXNwID0gYXdhaXQgZ2V0UHJvamVjdHMoKVxuICBjbGVhclBhZ2UobWFpbkNvbnRlbnQpXG5cblxuICBjb25zdCBjb250YWluZXJXaWR0aCA9IG1haW5Db250ZW50LmNsaWVudFdpZHRoXG5cbiAgcmVzcC5mb3JFYWNoKGFzeW5jIChwcm9qZWN0LCBpbmRleCkgPT4ge1xuICAgIGxldCBwcm9qZWN0V3JhcCA9IG1haW5Db250ZW50LmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJwcm9qZWN0LXdyYXBcIikpXG4gICAgbGV0IGltYWdlID0gcHJvamVjdFdyYXAuYXBwZW5kQ2hpbGQoXG4gICAgICBJbWFnZShgc3JjL2ltZy8ke3Byb2plY3QuaW1nX3VybH1gLCBwcm9qZWN0Lm5hbWUsIHRydWUsIHByb2plY3Quc2l0ZV91cmwpXG4gICAgKVxuICAgIGNvbnNvbGUubG9nKGltYWdlKVxuICAgIGxldCBib29sID0gXCJmYWxzZVwiXG4gICAgbGV0IGxpbmtNb2RhbCA9IGNlY2woXCJkaXZcIiwgXCJsaW5rLW1vZGFsXCIpXG5cbiAgICBsZXQgaW1nV3JhcHBlciA9IHFzYShcIi5pbWctd3JhcHBlclwiKVxuICAgIGxldCBpbm5lckltZ1dyYXAgPSBxc2EoXCIuaW5uZXItaW1nLXdyYXBcIilcbiAgICBsZXQgdGVjaEljb25zID0gY2VjbChcImRpdlwiLCBcInRlY2gtaWNvbnNcIilcbiAgICBwcm9qZWN0LnRlY2hub2xvZ2llcy5mb3JFYWNoKChpY29uKSA9PiB7XG4gICAgICBsZXQgdGVjaEljb24gPSB0ZWNoSWNvbnMuYXBwZW5kQ2hpbGQoY2VjbChcImltZ1wiLCBcInRlY2gtaWNvblwiKSlcbiAgICAgIHRlY2hJY29uLnNyYyA9IGBzcmMvaW1nLyR7aWNvbi5pY29uX3VybH1gXG4gICAgfSlcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBjZWNsKCdkaXYnLCAnZGVzY3JpcHRpb24nKVxuICAgIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IHByb2plY3QuZGVzY3JpcHRpb25cblxuICAgIGlmIChjb250YWluZXJXaWR0aCA8IDkwMCkge1xuICAgICAgbGlua01vZGFsLmFwcGVuZENoaWxkKHRlY2hJY29ucylcblxuICAgICAgbGlua01vZGFsLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgbGlua01vZGFsLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKVxuICAgICAgbGlua01vZGFsLmFwcGVuZENoaWxkKHRlY2hJY29ucylcblxuICAgIH1cblxuXG5cbiAgICBsZXQgbGlua01vZGFsSWNvbnMgPSBsaW5rTW9kYWwuYXBwZW5kQ2hpbGQoY2VjbCgnZGl2JywgJ2xpbmstbW9kYWwtaWNvbnMnKSlcblxuXG4gICAgbGlua01vZGFsSWNvbnMuaW5uZXJIVE1MID1cbiAgICAgIGA8ZGl2PjxhIGhyZWY9JHtwcm9qZWN0LnNpdGVfdXJsfSB0YXJnZXQ9J19ibGFuayc+PGkgY2xhc3M9XCJmYXMgZmEtaG9tZSBmYS1md1wiPjwvaT48L2E+XG4gICAgPHAgY2xhc3M9J2hvbWUtdG9vbC10aXAnPndlYnNpdGU8L3A+PC9kaXY+XG5cbiAgICA8ZGl2PjxhIGhyZWY9JHtwcm9qZWN0LmdpdGh1Yl91cmx9IHRhcmdldD0nX2JsYW5rJz48aSBjbGFzcz1cImZhYiBmYS1naXRodWJcIj48L2k+PC9hPlxuICAgIDxwIGNsYXNzPSdnaXRodWItdG9vbC10aXAnPmdpdGh1YjwvcD48L2Rpdj5gXG5cblxuICAgIGNvbnNvbGUubG9nKGlubmVySW1nV3JhcFswXS5jaGlsZHJlblsxXSlcblxuXG5cblxuXG5cbiAgICAvKioqKioqKioqKioqKipcbiAgICBBREQgTElOSyBNT0RBTFxuICAgICoqKioqKioqKioqKioqKi9cbiAgICBpbWdXcmFwcGVyW2luZGV4XS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKGJvb2wgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIGJvb2wgPSBcImZhbHNlXCJcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QuYWRkKFwiY2xvc2UtY3VydGFpblwiKVxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLWN1cnRhaW5cIilcbiAgICAgICAgaW1nV3JhcHBlcltpbmRleF0ubGFzdENoaWxkLnJlbW92ZSgpXG5cblxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS53aWR0aCA9ICc4MCUnXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLnN0eWxlLnBhZGRpbmcgPSAnNiUnXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLnN0eWxlLm1hcmdpbiA9ICcwJ1xuXG4gICAgICAgIHByb2plY3RXcmFwLnN0eWxlLm1hcmdpbiA9ICcwIDEwJSAzJSAxMCUnXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uc3R5bGUud2lkdGggPSAnMTAwJSdcblxuICAgICAgICBwcm9qZWN0V3JhcC5jbGFzc0xpc3QucmVtb3ZlKFwicHJvamVjdC13cmFwLWNsaWNrXCIpXG5cbiAgICAgICAgaW1hZ2UubGFzdENoaWxkLnJlbW92ZSgpXG5cbiAgICAgICAgLy8gaW5uZXJJbWdXcmFwW2luZGV4XS5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcblxuICAgICAgfSBlbHNlIGlmIChib29sID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgYm9vbCA9IFwidHJ1ZVwiXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LmFkZChcIm9wZW4tY3VydGFpblwiKVxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJjbG9zZS1jdXJ0YWluXCIpXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLmFwcGVuZENoaWxkKGxpbmtNb2RhbClcblxuXG5cbiAgICAgICAgaWYgKGNvbnRhaW5lcldpZHRoIDwgOTAwKSB7XG4gICAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUuZmxleERpcmVjdGlvbiA9ICdjb2x1bW4nXG4gICAgICAgICAgbGlua01vZGFsLnN0eWxlLndpZHRoID0gJzkwJSdcbiAgICAgICAgICB0ZWNoSWNvbnMuc3R5bGUud2lkdGggPSAnODAlJ1xuICAgICAgICAgIGxpbmtNb2RhbC5zdHlsZS5tYXJnaW5Ub3AgPSAnNSUnXG4gICAgICAgICAgbGlua01vZGFsLnN0eWxlLmJhY2tncm91bmQgPSAncmdiKDI0MCwgMjUzLCAyNTMpJ1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUud2lkdGggPSAnOTAlJ1xuICAgICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLnN0eWxlLnBhZGRpbmcgPSAnMiUnXG4gICAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUubWFyZ2luID0gJzAgYXV0bydcbiAgICAgICAgICBwcm9qZWN0V3JhcC5zdHlsZS5tYXJnaW4gPSAnMCAxJSdcblxuICAgICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uc3R5bGUud2lkdGggPSAnOTklJ1xuICAgICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uc3R5bGUuaGVpZ2h0ID0gJzk5JSdcbiAgICAgICAgICAvLyBcbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICAgICAgaW1hZ2UuYXBwZW5kQ2hpbGQodGVjaEljb25zKVxuICAgICAgICBjb25zb2xlLmxvZyhpbWFnZSlcblxuICAgICAgICBsZXQgaXcgPSBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZVxuICAgICAgICBpdy5zZXRQcm9wZXJ0eShcbiAgICAgICAgICBcIi0tYW5pbWF0aW9uXCIsXG4gICAgICAgICAgXCJhbmltYXRlLWltZy13cmFwcGVyIDEuNXMgbGluZWFyIGZvcndhcmRzXCJcbiAgICAgICAgKVxuICAgICAgICBwcm9qZWN0V3JhcC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC13cmFwLWNsaWNrXCIpXG5cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKipcbiAgICAgRURJVCBQUk9KRUNUIEJVVFRPTlxuICAgICoqKioqKioqKioqKioqKioqKioqL1xuICAgIGlmIChhd2FpdCB2ZXJpZnkoKSkge1xuICAgICAgY29uc3QgZWRpdFByb2plY3RXcmFwcGVyID0gY2VjbChcImRpdlwiLCBcImVkaXQtcHJvamVjdC13cmFwcGVyXCIpXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gQnV0dG9uKFwic2hvdy1lZGl0LWJ1dHRvblwiLCBcInN1Ym1pdFwiLCBcInVwZGF0ZVwiKVxuICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0V3JhcC5sYXN0Q2hpbGQuY2xhc3NOYW1lKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvamVjdFdyYXAubGFzdENoaWxkLmNsYXNzTmFtZSAhPT0gXCJlZGl0LXByb2plY3QtZm9ybVwiXG4gICAgICAgIClcbiAgICAgICAgICBFZGl0UHJvamVjdChwcm9qZWN0V3JhcCwgcHJvamVjdClcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcHJvamVjdFdyYXAubGFzdENoaWxkLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBlZGl0UHJvamVjdFdyYXBwZXIuYXBwZW5kQ2hpbGQoZWRpdEJ1dHRvbilcblxuICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgIERFTEVURSBQUk9KRUNUIEJVVFRPTlxuICAgICAgKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gQnV0dG9uKFwiZGVsZXRlLXByb2plY3RcIiwgXCJzdWJtaXRcIiwgXCJkZWxldGVcIilcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYW5zd2VyID0gY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke3Byb2plY3QubmFtZX0/YClcbiAgICAgICAgYW5zd2VyICYmIGF3YWl0IGRlbGV0ZVByb2plY3QocHJvamVjdC5pZClcbiAgICAgICAgYW5zd2VyICYmIGF3YWl0IFByb2plY3RzKClcbiAgICAgIH0pXG4gICAgICBlZGl0UHJvamVjdFdyYXBwZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKVxuXG4gICAgICBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChlZGl0UHJvamVjdFdyYXBwZXIpXG4gICAgfVxuICB9KVxuXG4gIC8qKioqKioqKioqKlxuICBBREQgUFJPSkVDVCBcbiAgKioqKioqKioqKioqL1xuICBpZiAoYXdhaXQgdmVyaWZ5KCkpIHtcbiAgICBsZXQgYWRkQnRuID0gQnV0dG9uKFwic2hvdy1hZGQtZm9ybVwiLCBcInN1Ym1pdFwiLCBcImFkZCBwcm9qZWN0XCIpXG4gICAgYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhtYWluQ29udGVudC5sYXN0Q2hpbGQuY2xhc3NOYW1lKVxuICAgICAgaWYgKG1haW5Db250ZW50Lmxhc3RDaGlsZC5jbGFzc05hbWUgPT09IFwic2hvdy1hZGQtZm9ybVwiKVxuICAgICAgICBFZGl0UHJvamVjdChtYWluQ29udGVudCwgcmVzcFswXSwgXCJhZGRQcm9qZWN0XCIpXG4gICAgICBlbHNlIHtcbiAgICAgICAgbWFpbkNvbnRlbnQubGFzdENoaWxkLnJlbW92ZSgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGFjKG1haW5Db250ZW50LCBhZGRCdG4pXG4gIH1cblxuICAvLyAvL2Rvd24gYnV0dG9uXG5cbiAgLy8gY29uc3Qgc2VlTW9yZUJ0biA9IEJ1dHRvbignc2VlLW1vcmUtYnRuJywgJ3N1Ym1pdCcsICdzZWUgbW9yZScpXG5cbiAgLy8gYWMobWFpbkNvbnRlbnQsIHNlZU1vcmVCdG4pXG5cbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoRm9vdGVyKCkpXG5cblxufVxuIiwiaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiwgQ2hlY2tib3gsIExhYmVsIH0gZnJvbSBcIi4uL1NoYXJlZC9Gb3JtLmpzXCJcbmltcG9ydCB7IGdldFRlY2hub2xvZ2llcyB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlUZWNoLmpzXCJcbmltcG9ydCB7XG4gIGdldFByb2plY3QsXG4gIGFkZFByb2plY3QgYXMgYWRkTmV3UHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdCxcbiAgZGVsZXRlUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVByb2plY3QuanNcIlxuaW1wb3J0IHsgUHJvamVjdHMgfSBmcm9tIFwiLi9Qcm9qZWN0cy5qc1wiXG5pbXBvcnQgeyBhYywgY2VjbCB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG5cbmV4cG9ydCBjb25zdCBFZGl0UHJvamVjdCA9IGFzeW5jIChwcm9qZWN0V3JhcCwgcHJvamVjdCwgYWRkUHJvamVjdCkgPT4ge1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gIE1BS0UgQU5EIFNFVCBGT1JNICBJTlBVVFNcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgY29uc29sZS5sb2coXCJhZGRcIiwgYWRkUHJvamVjdClcbiAgaWYgKGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiKSB7XG4gICAgZm9yIChsZXQgaXRlbSBpbiBwcm9qZWN0KSB7XG4gICAgICBwcm9qZWN0W2l0ZW1dID0gXCJcIlxuICAgIH1cbiAgfVxuICBsZXQgbmV3UHJvamVjdCA9IHt9XG4gIGxldCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIG5ld1Byb2plY3RbZS50YXJnZXQubmFtZV0gPSBlLnRhcmdldC52YWx1ZVxuICB9XG4gIGxldCBmb3JtID0gRm9ybShcImVkaXQtcHJvamVjdC1mb3JtXCIpXG4gIGxldCBpbnB1dHMgPSBjZWNsKCdkaXYnLCAnZWRpdC1mb3JtLWlucHV0cycpXG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXRzKVxuICBPYmplY3Qua2V5cyhwcm9qZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoXG4gICAgICBrZXkgIT09IFwiaWRcIiAmJlxuICAgICAga2V5ICE9PSBcInRlY2hub2xvZ2llc1wiICYmXG4gICAgICBrZXkgIT09IFwiY3JlYXRlZF9hdFwiICYmXG4gICAgICBrZXkgIT09IFwidXBkYXRlZF9hdFwiXG4gICAgKSB7XG4gICAgICBuZXdQcm9qZWN0W2tleV0gPSBwcm9qZWN0W2tleV1cbiAgICAgIGNvbnN0IGlucHV0ID0gSW5wdXQoe1xuICAgICAgICBjbGFzc05hbWU6IFwiZWRpdC1mb3JtLWlucHV0XCIsXG4gICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHZhbHVlOiBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiXCIgOiBuZXdQcm9qZWN0W2tleV0sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBrZXksXG4gICAgICAgIGhhbmRsZUNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgfSlcbiAgICAgIGlucHV0cy5hcHBlbmRDaGlsZChpbnB1dClcbiAgICB9XG4gIH0pXG5cbiAgLyoqKioqKioqKioqKioqXG4gICBTRVQgQ0hFQ0tCT1hFU1xuICAqKioqKioqKioqKioqKiovXG4gIGNvbnN0IGNoZWNrcyA9IGNlY2woJ2RpdicsICdlZGl0LWZvcm0tY2hlY2tib3hlcycpXG4gIGZvcm0uYXBwZW5kQ2hpbGQoY2hlY2tzKVxuICBsZXQgdGVjaG5vbG9naWVzID0gYXdhaXQgZ2V0VGVjaG5vbG9naWVzKClcbiAgdGVjaG5vbG9naWVzLm1hcCgodGVjaG5vbG9neSkgPT4ge1xuXG4gICAgbGV0IGNoZWNrZWRcbiAgICBhZGRQcm9qZWN0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgIHByb2plY3QudGVjaG5vbG9naWVzLmZvckVhY2goKHByb2plY3RUZWNobm9sb2d5KSA9PiB7XG4gICAgICAgIGlmICh0ZWNobm9sb2d5Lm5hbWUgPT09IHByb2plY3RUZWNobm9sb2d5Lm5hbWUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0ZWNobm9sb2d5Lm5hbWUsIHByb2plY3RUZWNobm9sb2d5Lm5hbWUpXG4gICAgICAgICAgY2hlY2tlZCA9IFwiY2hlY2tlZFwiXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgbGV0IGJ4ID0gQ2hlY2tib3goe1xuICAgICAgY2xhc3NOYW1lOiBcImVkaXQtcHJvamVjdC1jaGtib3hcIixcbiAgICAgIG5hbWU6IHRlY2hub2xvZ3kubmFtZSxcbiAgICAgIGlkOiB0ZWNobm9sb2d5Lm5hbWUsXG4gICAgICB2YWx1ZTogdGVjaG5vbG9neS5pZCxcbiAgICAgIGNoZWNrZWQ6IGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiID8gXCJcIiA6IGNoZWNrZWQsXG5cbiAgICB9KVxuICAgIGNoZWNrcy5hcHBlbmRDaGlsZChieClcbiAgICBjaGVja3MuYXBwZW5kQ2hpbGQoTGFiZWwoXCJ0ZWNoLWJveC1sYWJlbFwiLCB0ZWNobm9sb2d5Lm5hbWUsIFwidGVjaC1ib3hcIikpXG5cbiAgfSlcbiAgZm9ybS5hcHBlbmRDaGlsZChcbiAgICBCdXR0b24oXG4gICAgICBcImVkaXQtcHJvamVjdC1idXR0b25cIixcbiAgICAgIFwic3VibWl0XCIsXG4gICAgICBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiYWRkIG5ldyBwcm9qZWN0XCIgOiBcInN1Ym1pdFwiXG4gICAgKVxuICApXG5cblxuICBhYyhwcm9qZWN0V3JhcCwgZm9ybSlcblxuXG4gIC8qKioqKioqKioqXG4gICBTVUJNSVQgRk9STVxuICAqKioqKioqKioqKi9cbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKFwiYWRkXCIsIGFkZFByb2plY3QpXG5cbiAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWRcIilcbiAgICBjb25zb2xlLmxvZyhjaGVja2JveGVzKVxuICAgIG5ld1Byb2plY3QudGVjaG5vbG9naWVzID0gW11cbiAgICBjaGVja2JveGVzLmZvckVhY2goKGJveCkgPT4ge1xuICAgICAgbmV3UHJvamVjdC50ZWNobm9sb2dpZXMucHVzaChib3gudmFsdWUpXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhcImFkZFwiLCBuZXdQcm9qZWN0KVxuICAgIGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiXG4gICAgICA/IGF3YWl0IGFkZE5ld1Byb2plY3QobmV3UHJvamVjdClcbiAgICAgIDogYXdhaXQgdXBkYXRlUHJvamVjdChuZXdQcm9qZWN0LCBwcm9qZWN0LmlkKVxuXG4gICAgYXdhaXQgUHJvamVjdHMoKVxuICB9KVxufVxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vcHJvamVjdHMuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiXSwic291cmNlUm9vdCI6IiJ9