(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=()=>"https://portfolio-mick-server.herokuapp.com"},106:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var o=n(105);const a=Object(o.a)();const c=async e=>(console.log(JSON.stringify(e)),await fetch(a+"/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>(localStorage.setItem("authToken",e.token),e))),i=async e=>{console.log(e);let t=await fetch(a+"/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>(localStorage.setItem("authToken",e.token),e));return console.log(t),t},l=async()=>{if(localStorage.getItem("authToken")){return await fetch(a+"/auth/verify",{method:"get",headers:(e={"Content-Type":"application/json"},localStorage.authToken?{...e,Authorization:`Bearer ${localStorage.authToken}`}:e)}).then(e=>e.json()).then(e=>e)}var e;return!1},s=async()=>(localStorage.removeItem("authToken"),{"Content-Type":"application/json"},"logged out")},108:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var o=n(105);const a=Object(o.a)();let c=async()=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e),i=async e=>await fetch(`${a}/technologies`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);const l=async(e,t)=>{await fetch(`${a}/technologies/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},s=async e=>{await fetch(`${a}/technologies/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e).then(e=>e)}},124:function(e,t,n){var o=n(1),a=n(125);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var c={insert:"head",singleton:!1},i=(o(a,c),a.locals?a.locals:{});e.exports=i},125:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t),n.d(t,"Technologies",(function(){return l}));var o=n(0),a=n(106),c=n(108),i=n(3);n(124);async function l(){const e=Object(o.e)(".scrollable-content");for(;e.childNodes.length;)e.removeChild(e.lastChild);const t=await Object(a.d)(),n=e.appendChild(Object(o.c)("div","technologies")),l=await Object(c.c)();let s="",r="";const d=e=>{console.log(e.target.name,e.target.value),s=e.target.value};l.forEach((e,a)=>{let l=Object(o.c)("img","tech-icon");if(l.src=`src/img/${e.icon_url}`,n.appendChild(l),t&&t.isAdmin){let t=Object(o.c)("div","name");t.innerText=e.name;const a=Object(i.c)("tech-icon-form"),l=Object(i.d)({className:"techIconInput",name:e.name,type:"text",value:e.icon_url,placeholder:"tech-icon-url",handleChange:d});a.appendChild(l),a.appendChild(t),n.appendChild(a);const r=Object(i.a)("update-tech-icon-btn","submit","update icon url");a.addEventListener("submit",t=>{console.log(e.id),((e,t,n)=>{e.preventDefault(),Object(c.d)(t,n)})(t,{...e,icon_url:s},e.id)}),a.appendChild(r);const h=Object(i.a)("delete-tech-btn","submit");h.innerText="delete",h.addEventListener("click",()=>{console.log("test"),Object(c.b)(e.id)}),a.appendChild(h)}});const h=Object(i.c)("add-tech-icon-form"),u=Object(i.d)({className:"name",name:"nameInput",type:"text",value:"",placeholder:"new technology",handleChange:d}),p=Object(i.d)({className:"techIconInput",name:"input",type:"text",value:s,placeholder:"tech-icon-url",handleChange:e=>{console.log(e.target.name,e.target.value),r=e.target.value}});n.appendChild(h);const g=Object(i.a)("new-tech-icon-btn","submit","new icon url");return h.addEventListener("submit",async e=>{console.log(s);await((e,t)=>{e.preventDefault(),Object(c.a)(t)})(e,{name:r,icon_url:s})}),h.appendChild(g),h.appendChild(p),h.appendChild(u),e}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9CYXNlVXJsLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaUF1dGguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2VydmljZXMvQXBpVGVjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9UZWNobm9sb2dpZXMvVGVjaG5vbG9naWVzLnNjc3M/Yzk1YSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9UZWNobm9sb2dpZXMvVGVjaG5vbG9naWVzLmpzIl0sIm5hbWVzIjpbIkJhc2VVcmwiLCJiYXNlVXJsIiwic2lnblVwIiwiYXN5bmMiLCJib2R5IiwiY29uc29sZSIsImxvZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwianNvbiIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidG9rZW4iLCJsb2dpbiIsInJlcyIsInZlcmlmeSIsImdldEl0ZW0iLCJhdXRoVG9rZW4iLCJBdXRob3JpemF0aW9uIiwibG9nb3V0IiwicmVtb3ZlSXRlbSIsImdldFRlY2hub2xvZ2llcyIsImFucyIsImNyZWF0ZVRlY2hub2xvZ3kiLCJ1cGRhdGVUZWNobm9sb2d5IiwiaWQiLCJkZWxldGVUZWNobm9sb2d5IiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJUZWNobm9sb2dpZXMiLCJtYWluQ29udGVudFNjcm9sbGFibGUiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJ1c2VyIiwidGVjaG5vbG9naWVzIiwiYXBwZW5kQ2hpbGQiLCJ0ZWNoSWNvbnMiLCJuZXdJY29uVXJsIiwibmFtZSIsImhhbmRsZUNoYW5nZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImZvckVhY2giLCJ0ZWNoIiwiaW5kZXgiLCJpY29uIiwic3JjIiwiaWNvbl91cmwiLCJpc0FkbWluIiwiaW5uZXJUZXh0IiwiZm9ybSIsImlucHV0IiwiY2xhc3NOYW1lIiwidHlwZSIsInBsYWNlaG9sZGVyIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwidXBkYXRlIiwiZGVsZXRlQnRuIiwibmFtZUlucHV0IiwiY3JlYXRlIl0sIm1hcHBpbmdzIjoiNEhBQ08sTUFBTUEsRUFBVSxJQUU0QiwrQyxpQ0NIbkQscUpBQ0EsTUFBTUMsRUFBVSxjQWFULE1BT01DLEVBQVNDLE1BQU9DLElBQzNCQyxRQUFRQyxJQUFJQyxLQUFLQyxVQUFVSixVQUVYSyxNQUFNUixFQUFVLFNBQVUsQ0FDeENTLE9BQVEsT0FDUkMsUUFBUyxDQUFFLGVBQWdCLG9CQUMzQlAsS0FBTUcsS0FBS0MsVUFBVUosS0FFcEJRLEtBQU1DLEdBQ0VBLEVBQUtBLFFBRWJELEtBQU1FLElBRUxDLGFBQWFDLFFBQVEsWUFBYUYsRUFBS0csT0FFaENILEtBS0FJLEVBQVFmLE1BQU9DLElBQzFCQyxRQUFRQyxJQUFJRixHQUNaLElBQUllLFFBQVlWLE1BQU1SLEVBQVUsY0FBZSxDQUM3Q1MsT0FBUSxPQUNSQyxRQUFTLENBQUUsZUFBZ0Isb0JBQzNCUCxLQUFNRyxLQUFLQyxVQUFVSixLQUVwQlEsS0FBTUMsR0FDRUEsRUFBS0EsUUFHYkQsS0FBTUUsSUFFTEMsYUFBYUMsUUFBUSxZQUFhRixFQUFLRyxPQUdoQ0gsSUFHWCxPQURBVCxRQUFRQyxJQUFJYSxHQUNMQSxHQUdJQyxFQUFTakIsVUFHcEIsR0FGY1ksYUFBYU0sUUFBUSxhQUV4QixDQWNULGFBYmtCWixNQUFNUixFQUFVLGVBQWdCLENBQ2hEUyxPQUFRLE1BQ1JDLFNBbEVxQkEsRUFrRUQsQ0FDbEIsZUFBZ0Isb0JBbEVsQkksYUFBYU8sVUFDUixJQUNGWCxFQUNIWSxjQUFlLFVBQVVSLGFBQWFPLGFBR2pD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R0FFakIsTUFBTUksRUFBWSxZQUFPLGtCQUFtQixVQUM1Q0EsRUFBVVYsVUFBWSxTQUN0QlUsRUFBVUgsaUJBQWlCLFFBQVMsS0FDbENuRSxRQUFRQyxJQUFJLFFBQ1osWUFBaUJxRCxFQUFLN0IsTUFFeEJvQyxFQUFLaEIsWUFBWXlCLE1BTXJCLE1BU01ULEVBQU8sWUFBSyxzQkFDWlUsRUFBWSxZQUFNLENBQUVSLFVBQVcsT0FBUWYsS0FBTSxZQUFhZ0IsS0FBTSxPQUFRWixNQUFPLEdBQUlhLFlBQWEsaUJBQWtCaEIsaUJBQ2xIYSxFQUFRLFlBQU0sQ0FBRUMsVUFBVyxnQkFBaUJmLEtBQU0sUUFBU2dCLEtBQU0sT0FBUVosTUFBT0wsRUFBWWtCLFlBQWEsZ0JBQWlCaEIsYUE1RHRHQyxJQUN4QmxELFFBQVFDLElBQUlpRCxFQUFFQyxPQUFPSCxLQUFNRSxFQUFFQyxPQUFPQyxPQUNwQ0osRUFBT0UsRUFBRUMsT0FBT0MsU0E2RGxCUixFQUFhQyxZQUFZZ0IsR0FDekIsTUFBTUssRUFBUyxZQUFPLG9CQUFxQixTQUFVLGdCQVdyRCxPQVZBTCxFQUFLTSxpQkFBaUIsU0FBVXJFLE1BQU9vRCxJQUNyQ2xELFFBQVFDLElBQUk4QyxRQTlEQyxFQUFDRyxFQUFHbkQsS0FDakJtRCxFQUFFa0IsaUJBRUYsWUFBaUJyRSxJQTZERXlFLENBQU90QixFQUFHLENBQUVGLEtBQU1BLEVBQU1VLFNBQVVYLE1BSXZEYyxFQUFLaEIsWUFBWXFCLEdBQ2pCTCxFQUFLaEIsWUFBWWlCLEdBQ2pCRCxFQUFLaEIsWUFBWTBCLEdBQ1ZqQyIsImZpbGUiOiIzLjYyMTE0YmE4MWE5YmI5MzkxNmNmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY29uc3QgQmFzZVVybCA9ICgpID0+IHtcblxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJ2h0dHBzOi8vcG9ydGZvbGlvLW1pY2stc2VydmVyLmhlcm9rdWFwcC5jb20nIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCdcblxufSIsImltcG9ydCB7IEJhc2VVcmwgfSBmcm9tIFwiLi9CYXNlVXJsLmpzXCJcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhlYWRlcnMoaGVhZGVycykge1xuICBpZiAobG9jYWxTdG9yYWdlLmF1dGhUb2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oZWFkZXJzLFxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5hdXRoVG9rZW59YCxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2xlYXJIZWFkZXJzID0gKGhlYWRlcnMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5oZWFkZXJzLFxuICAgIEF1dGhvcml6YXRpb246IG51bGwsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuXG4gIGxldCByZXMgPSBhd2FpdCBmZXRjaChiYXNlVXJsICsgXCIvdXNlcnNcIiwge1xuICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYXV0aFRva2VuXCIsIGRhdGEudG9rZW4pXG5cbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgcmV0dXJuIHJlc1xufVxuXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAoYm9keSkgPT4ge1xuICBjb25zb2xlLmxvZyhib2R5KVxuICBsZXQgcmVzID0gYXdhaXQgZmV0Y2goYmFzZVVybCArIFwiL2F1dGgvbG9naW5cIiwge1xuICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcblxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImF1dGhUb2tlblwiLCBkYXRhLnRva2VuKVxuXG5cbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxuICByZXR1cm4gcmVzXG59XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnkgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoVG9rZW5cIilcbiAgLy8gY29uc29sZS5sb2codG9rZW4pXG4gIGlmICh0b2tlbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGJhc2VVcmwgKyBcIi9hdXRoL3ZlcmlmeVwiLCB7XG4gICAgICBtZXRob2Q6IFwiZ2V0XCIsXG4gICAgICBoZWFkZXJzOiBzZXRIZWFkZXJzKHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGRhdGFcbiAgICAgIH0pXG5cbiAgICByZXR1cm4gcmVzXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRVc2VyID0gYXN5bmMgKCkgPT4ge1xuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoVG9rZW5cIikpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcImhlcmVcIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhdXRoVG9rZW5cIikpXG4gICAgbGV0IHVzZXIgPSBhd2FpdCB2ZXJpZnkoKVxuICAgIGNvbnNvbGUubG9nKHVzZXIpXG4gICAgaWYgKCF1c2VyLmVycm9ycykge1xuICAgICAgLy8gbG9naW5CdXR0b24uaW5uZXJUZXh0ID0gXCJsb2dvdXRcIlxuICAgICAgLy8gbG9nZ2VkSW4gPSB0cnVlXG4gICAgICByZXR1cm4gdXNlclxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBsb2dpbkJ1dHRvbi5pbm5lclRleHQgPSBcImxvZ2luXCJcblxuICAgIC8vIGxvZ2dlZEluID0gZmFsc2VcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBjb25zb2xlLmxvZyhsb2dnZWRJbilcbn1cblxuZXhwb3J0IGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJhdXRoVG9rZW5cIilcbiAgY2xlYXJIZWFkZXJzKHtcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSlcbiAgcmV0dXJuIFwibG9nZ2VkIG91dFwiXG59XG4iLCJpbXBvcnQgeyBCYXNlVXJsIH0gZnJvbSAnLi9CYXNlVXJsLmpzJ1xuY29uc3QgYmFzZVVybCA9IEJhc2VVcmwoKVxuXG5cblxuXG5leHBvcnQgbGV0IGdldFRlY2hub2xvZ2llcyA9IGFzeW5jICgpID0+IHtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS90ZWNobm9sb2dpZXNgKVxuICAgIC50aGVuKChyZXMpID0+IHtcblxuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChhbnMpID0+IHtcbiAgICAgIHJldHVybiBhbnNcbiAgICB9KVxuXG4gIHJldHVybiByZXN1bHRzXG59XG5cblxuZXhwb3J0IGxldCBjcmVhdGVUZWNobm9sb2d5ID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS90ZWNobm9sb2dpZXNgLCB7XG4gICAgbWV0aG9kOiBgcG9zdGAsXG4gICAgYm9keTpKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxuICB9KVxuICAudGhlbigocmVzKT0+e1xuICAgIHJldHVybiByZXMuanNvbigpXG4gIH0pXG4gIC50aGVuKChhbnMpPT57XG4gICAgcmV0dXJuIGFuc1xuICB9KVxuICByZXR1cm4gcmVzdWx0c1xufVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVUZWNobm9sb2d5ID0gYXN5bmMgKGJvZHksIGlkKSA9PiB7XG4gIFxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS90ZWNobm9sb2dpZXMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9KVxuXG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVUZWNobm9sb2d5ID0gYXN5bmMoaWQpID0+IHtcbiAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3RlY2hub2xvZ2llcy8ke2lkfWAse1xuICAgIG1ldGhvZDogYGRlbGV0ZWAsXG4gICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9XG4gIH0pXG4gIC50aGVuKGpzb249PntcbiAgICByZXR1cm4ganNvblxuICB9KVxuICAudGhlbihkYXRhPT57XG4gICAgcmV0dXJuIGRhdGFcbiAgfSlcbn1cblxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vVGVjaG5vbG9naWVzLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiaW1wb3J0IHsgY2VjbCwgcXMgfSBmcm9tICcuLi9IZWxwZXJzL2RvbUhlbHBlcidcbmltcG9ydCB7IHZlcmlmeSB9IGZyb20gJy4uL1NlcnZpY2VzL0FwaUF1dGgnXG5pbXBvcnQgeyBnZXRUZWNobm9sb2dpZXMsIGNyZWF0ZVRlY2hub2xvZ3ksIHVwZGF0ZVRlY2hub2xvZ3ksIGRlbGV0ZVRlY2hub2xvZ3kgfSBmcm9tICcuLi9TZXJ2aWNlcy9BcGlUZWNoJ1xuaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiB9IGZyb20gJy4uL1NoYXJlZC9Gb3JtJ1xuaW1wb3J0ICcuL1RlY2hub2xvZ2llcy5zY3NzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gVGVjaG5vbG9naWVzKCkge1xuXG4gIGNvbnN0IG1haW5Db250ZW50U2Nyb2xsYWJsZSA9IHFzKFwiLnNjcm9sbGFibGUtY29udGVudFwiKVxuICB3aGlsZSAobWFpbkNvbnRlbnRTY3JvbGxhYmxlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgbWFpbkNvbnRlbnRTY3JvbGxhYmxlLnJlbW92ZUNoaWxkKG1haW5Db250ZW50U2Nyb2xsYWJsZS5sYXN0Q2hpbGQpXG4gIH1cblxuICBjb25zdCB1c2VyID0gYXdhaXQgdmVyaWZ5KClcbiAgY29uc3QgdGVjaG5vbG9naWVzID0gbWFpbkNvbnRlbnRTY3JvbGxhYmxlLmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJ0ZWNobm9sb2dpZXNcIikpXG4gIGNvbnN0IHRlY2hJY29ucyA9IGF3YWl0IGdldFRlY2hub2xvZ2llcygpXG5cbiAgbGV0IG5ld0ljb25VcmwgPSAnJ1xuICBsZXQgbmFtZSA9ICcnXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coZS50YXJnZXQubmFtZSwgZS50YXJnZXQudmFsdWUpXG4gICAgbmV3SWNvblVybCA9IGUudGFyZ2V0LnZhbHVlXG4gIH1cblxuICBjb25zdCBoYW5kbGVOYW1lQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5uYW1lLCBlLnRhcmdldC52YWx1ZSlcbiAgICBuYW1lID0gZS50YXJnZXQudmFsdWVcbiAgfVxuICBjb25zdCBjcmVhdGUgPSAoZSwgYm9keSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgY3JlYXRlVGVjaG5vbG9neShib2R5KVxuXG4gIH1cbiAgY29uc3QgdXBkYXRlID0gKGUsIGJvZHksIGlkKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdXBkYXRlVGVjaG5vbG9neShib2R5LCBpZClcbiAgfVxuXG4gIHRlY2hJY29ucy5mb3JFYWNoKCh0ZWNoLCBpbmRleCkgPT4ge1xuICAgIGxldCBpY29uID0gY2VjbCgnaW1nJywgJ3RlY2gtaWNvbicpXG4gICAgaWNvbi5zcmMgPSBgc3JjL2ltZy8ke3RlY2guaWNvbl91cmx9YFxuICAgIHRlY2hub2xvZ2llcy5hcHBlbmRDaGlsZChpY29uKVxuXG4gICAgaWYgKHVzZXIgJiYgdXNlci5pc0FkbWluKSB7XG5cbiAgICAgIGxldCBuYW1lID0gY2VjbCgnZGl2JywgJ25hbWUnKVxuICAgICAgbmFtZS5pbm5lclRleHQgPSB0ZWNoLm5hbWVcbiAgICAgIGNvbnN0IGZvcm0gPSBGb3JtKCd0ZWNoLWljb24tZm9ybScpXG4gICAgICBjb25zdCBpbnB1dCA9IElucHV0KHsgY2xhc3NOYW1lOiAndGVjaEljb25JbnB1dCcsIG5hbWU6IHRlY2gubmFtZSwgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGVjaC5pY29uX3VybCwgcGxhY2Vob2xkZXI6ICd0ZWNoLWljb24tdXJsJywgaGFuZGxlQ2hhbmdlIH0pXG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KVxuICAgICAgZm9ybS5hcHBlbmRDaGlsZChuYW1lKVxuICAgICAgdGVjaG5vbG9naWVzLmFwcGVuZENoaWxkKGZvcm0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvbiA9IEJ1dHRvbigndXBkYXRlLXRlY2gtaWNvbi1idG4nLCAnc3VibWl0JywgJ3VwZGF0ZSBpY29uIHVybCcpXG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlY2guaWQpXG4gICAgICAgIHVwZGF0ZShlLCB7IC4uLnRlY2gsIGljb25fdXJsOiBuZXdJY29uVXJsIH0sIHRlY2guaWQpXG4gICAgICB9KVxuICAgICAgZm9ybS5hcHBlbmRDaGlsZChidXR0b24pXG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IEJ1dHRvbignZGVsZXRlLXRlY2gtYnRuJywgJ3N1Ym1pdCcpXG4gICAgICBkZWxldGVCdG4uaW5uZXJUZXh0ID0gJ2RlbGV0ZSdcbiAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0JylcbiAgICAgICAgZGVsZXRlVGVjaG5vbG9neSh0ZWNoLmlkKVxuICAgICAgfSlcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKVxuICAgIH1cblxuXG4gIH0pXG5cbiAgY29uc3QgZGVsZXRlVGVjaCA9ICgpID0+IHtcblxuICB9XG5cblxuXG5cblxuXG4gIGNvbnN0IGZvcm0gPSBGb3JtKCdhZGQtdGVjaC1pY29uLWZvcm0nKVxuICBjb25zdCBuYW1lSW5wdXQgPSBJbnB1dCh7IGNsYXNzTmFtZTogJ25hbWUnLCBuYW1lOiAnbmFtZUlucHV0JywgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycsIHBsYWNlaG9sZGVyOiAnbmV3IHRlY2hub2xvZ3knLCBoYW5kbGVDaGFuZ2UgfSlcbiAgY29uc3QgaW5wdXQgPSBJbnB1dCh7IGNsYXNzTmFtZTogJ3RlY2hJY29uSW5wdXQnLCBuYW1lOiAnaW5wdXQnLCB0eXBlOiAndGV4dCcsIHZhbHVlOiBuZXdJY29uVXJsLCBwbGFjZWhvbGRlcjogJ3RlY2gtaWNvbi11cmwnLCBoYW5kbGVDaGFuZ2U6IGhhbmRsZU5hbWVDaGFuZ2UgfSlcblxuXG4gIHRlY2hub2xvZ2llcy5hcHBlbmRDaGlsZChmb3JtKVxuICBjb25zdCBidXR0b24gPSBCdXR0b24oJ25ldy10ZWNoLWljb24tYnRuJywgJ3N1Ym1pdCcsICduZXcgaWNvbiB1cmwnKVxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChlKSA9PiB7XG4gICAgY29uc29sZS5sb2cobmV3SWNvblVybClcblxuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBjcmVhdGUoZSwgeyBuYW1lOiBuYW1lLCBpY29uX3VybDogbmV3SWNvblVybCB9KVxuXG5cbiAgfSlcbiAgZm9ybS5hcHBlbmRDaGlsZChidXR0b24pXG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpXG4gIGZvcm0uYXBwZW5kQ2hpbGQobmFtZUlucHV0KVxuICByZXR1cm4gbWFpbkNvbnRlbnRTY3JvbGxhYmxlXG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=