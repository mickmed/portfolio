(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{84:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(4);const a=Object(c.a)();let o=async e=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e)},85:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var c=n(4);const a=Object(c.a)();let o=async()=>await fetch(`${a}/projects`).then(e=>e.json()).then(e=>e);const i=async e=>{console.log("ere"),console.log(JSON.stringify(e));const t=await fetch(`${a}/projects`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)},l=async(e,t)=>{console.log(e);await fetch(`${a}/projects/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},s=async e=>{const t=await fetch(`${a}/projects/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)}},88:function(e,t,n){"use strict";n.r(t),n.d(t,"Projects",(function(){return p}));var c=n(0),a=n(7),o=(n(84),n(83)),i=n(3),l=n(85),s=n(5),d=n(91);n(92);const r=e=>{for(;e.childNodes.length;)e.removeChild(e.lastChild)};async function p(){let e=Object(c.e)(".main-content-scrollable");r(e),e.appendChild(Object(c.c)("div","loading")).innerHTML="loading...";const t=await Object(l.c)();r(e);const n=e.clientWidth;if(t.forEach(async(t,i)=>{const r=e.appendChild(Object(c.c)("div","project-wrap")),h=r.appendChild(Object(o.a)(`src/img/${t.img_url}`,t.name,!0,t.site_url,t.build_date));console.log(h);let b="false",u=Object(c.c)("div","link-modal"),j=Object(c.f)(".img-wrapper"),m=Object(c.f)(".inner-img-wrap"),g=Object(c.c)("div","tech-icons");t.technologies.forEach(e=>{g.appendChild(Object(c.c)("img","tech-icon")).src=`src/img/${e.icon_url}`});let f=Object(c.c)("div","description");if(f.innerHTML=t.description,n<900?(u.appendChild(g),u.appendChild(f)):(u.appendChild(f),u.appendChild(g)),u.appendChild(Object(c.c)("div","link-modal-icons")).innerHTML=`<div><a href=${t.site_url} target='_blank'><i class="fas fa-home fa-fw"></i></a>\n    <p class='home-tool-tip'>website</p></div>\n\n    <div><a href=${t.github_url} target='_blank'><i class="fab fa-github"></i></a>\n    <p class='github-tool-tip'>github</p></div>`,console.log(m[0].children[1]),j[i].addEventListener("click",async()=>{if("true"===b)b="false",m[i].classList.add("close-curtain"),m[i].classList.remove("open-curtain"),j[i].lastChild.remove(),j[i].style.width="80%",j[i].style.padding="6%",j[i].style.margin="0",r.style.margin="0 10% 3% 10%",m[i].style.width="100%",r.classList.remove("project-wrap-click"),h.lastChild.remove();else if("false"===b){console.log(b),b="true",m[i].classList.add("open-curtain"),m[i].classList.remove("close-curtain"),j[i].appendChild(u),n<900?(j[i].style.flexDirection="column",u.style.width="90%",g.style.width="80%",u.style.marginTop="5%",u.style.background="rgb(240, 253, 253)"):(j[i].style.width="90%",j[i].style.padding="2%",j[i].style.margin="0 auto",r.style.margin="0 1%",m[i].style.width="99%",m[i].style.height="99%"),n<900?(console.log("900-"),h.appendChild(g)):(console.log("900+"),m[i].appendChild(g)),console.log(h),j[i].style.setProperty("--animation","animate-img-wrapper 1.5s linear forwards"),r.classList.add("project-wrap-click")}}),await Object(a.d)()){const e=Object(c.c)("div","edit-project-wrapper"),n=Object(s.a)("show-edit-button","submit","update");n.addEventListener("click",()=>{console.log(r.lastChild.className),"edit-project-form"!==r.lastChild.className?Object(d.EditProject)(r,t):r.lastChild.remove()}),e.appendChild(n);const a=Object(s.a)("delete-project","submit","delete");a.addEventListener("click",async()=>{let e=confirm(`Are you sure you want to delete ${t.name}?`);e&&await Object(l.b)(t.id),e&&await p()}),e.appendChild(a),r.appendChild(e)}}),await Object(a.d)()){console.log("not fair");let n=Object(s.a)("show-add-form","submit","add project");n.addEventListener("click",()=>{console.log(e.lastChild.previousSibling.className),"show-add-form"===e.lastChild.previousSibling.className?Object(d.EditProject)(e,t[0],"addProject"):e.lastChild.remove()}),Object(c.b)(e,n)}e.appendChild(Object(i.a)())}},91:function(e,t,n){"use strict";n.r(t),n.d(t,"EditProject",(function(){return s}));var c=n(5),a=n(84),o=n(85),i=n(88),l=n(0);const s=async(e,t,n)=>{if(console.log("add",n),"addProject"===n)for(let e in t)t[e]="";let s={},d=e=>{console.log(e.target.name,e.target.value),s[e.target.name]=e.target.value,console.log("cmon",s)},r=Object(c.c)("edit-project-form"),p=Object(l.c)("div","edit-form-inputs");r.appendChild(p),Object.keys(t).forEach(e=>{if("id"!==e&&"technologies"!==e&&"created_at"!==e&&"updated_at"!==e){s[e]=t[e];const a=Object(c.d)({className:"edit-form-input",name:e,type:"text",value:"addProject"===n?"":s[e],placeholder:e,handleChange:d});p.appendChild(a)}});const h=Object(l.c)("div","edit-form-checkboxes");r.appendChild(h),(await Object(a.a)()).map(e=>{let a;void 0===n&&t.technologies.forEach(t=>{e.name===t.name&&(console.log(e.name,t.name),a="checked")});let o=Object(c.b)({className:"edit-project-chkbox",name:e.name,id:e.name,value:e.id,checked:"addProject"===n?"":a});h.appendChild(o),h.appendChild(Object(c.e)("tech-box-label",e.name,"tech-box"))}),r.appendChild(Object(c.a)("edit-project-button","submit","addProject"===n?"add new project":"submit")),Object(l.b)(e,r),r.addEventListener("submit",async e=>{e.preventDefault(),console.log("add",n);const c=document.querySelectorAll("input[type=checkbox]:checked");console.log(c,s),s.technologies=[],c.forEach(e=>{s.technologies.push(e.value)}),console.log("add",s),"addProject"===n?await Object(o.a)(s):await Object(o.d)(s,t.id),await Object(i.Projects)()})}},92:function(e,t,n){var c=n(1),a=n(93);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(c(a,o),a.locals?a.locals:{});e.exports=i},93:function(e,t,n){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvRWRpdFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvcHJvamVjdHMuc2NzcyJdLCJuYW1lcyI6WyJiYXNlVXJsIiwiZ2V0VGVjaG5vbG9naWVzIiwiYXN5bmMiLCJ0eXBlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImFucyIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsImhlYWRlcnMiLCJkYXRhIiwidXBkYXRlUHJvamVjdCIsImlkIiwiZGVsZXRlUHJvamVjdCIsImNsZWFyUGFnZSIsImVsZW1lbnQiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJQcm9qZWN0cyIsIm1haW5Db250ZW50IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJyZXNwIiwiY29udGFpbmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImZvckVhY2giLCJwcm9qZWN0IiwiaW5kZXgiLCJwcm9qZWN0V3JhcCIsImltYWdlIiwiaW1nX3VybCIsIm5hbWUiLCJzaXRlX3VybCIsImJ1aWxkX2RhdGUiLCJib29sIiwibGlua01vZGFsIiwiaW1nV3JhcHBlciIsImlubmVySW1nV3JhcCIsInRlY2hJY29ucyIsInRlY2hub2xvZ2llcyIsImljb24iLCJzcmMiLCJpY29uX3VybCIsImRlc2NyaXB0aW9uIiwiZ2l0aHViX3VybCIsImNoaWxkcmVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsInN0eWxlIiwid2lkdGgiLCJwYWRkaW5nIiwibWFyZ2luIiwiZmxleERpcmVjdGlvbiIsIm1hcmdpblRvcCIsImJhY2tncm91bmQiLCJoZWlnaHQiLCJzZXRQcm9wZXJ0eSIsImVkaXRQcm9qZWN0V3JhcHBlciIsImVkaXRCdXR0b24iLCJjbGFzc05hbWUiLCJkZWxldGVCdXR0b24iLCJhbnN3ZXIiLCJjb25maXJtIiwiYWRkQnRuIiwicHJldmlvdXNTaWJsaW5nIiwiRWRpdFByb2plY3QiLCJpdGVtIiwibmV3UHJvamVjdCIsImhhbmRsZUNoYW5nZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImZvcm0iLCJpbnB1dHMiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsImNoZWNrcyIsIm1hcCIsInRlY2hub2xvZ3kiLCJjaGVja2VkIiwidW5kZWZpbmVkIiwicHJvamVjdFRlY2hub2xvZ3kiLCJieCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tib3hlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImJveCIsInB1c2giLCJhcGkiLCJjb250ZW50IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb2R1bGUiLCJpIiwib3B0aW9ucyIsImV4cG9ydGVkIiwibG9jYWxzIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InlGQUFBLDZDQUNBLE1BQU1BLEVBQVUsY0FLVCxJQUFJQyxFQUFrQkMsTUFBT0MsU0FDZEMsTUFBTSxHQUFHSixrQkFDMUJLLEtBQU1DLEdBRUVBLEVBQUlDLFFBRVpGLEtBQU1HLEdBQ0VBLEksZ0NDYmIsbUpBQ0EsTUFBTVIsRUFBVSxjQUdULElBQUlTLEVBQWNQLGVBQ0hFLE1BQU0sR0FBR0osY0FDMUJLLEtBQU1DLEdBRUVBLEVBQUlDLFFBRVpGLEtBQU1HLEdBQ0VBLEdBcUJOLE1BQU1FLEVBQWFSLE1BQU9TLElBQy9CQyxRQUFRQyxJQUFJLE9BQ1pELFFBQVFDLElBQUlD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RUFBT0MsRUFBSUosRUFBUyxNQUc5QyxJQUFJSyxFQUFVLENBRWQsT0FBaUIsT0FDakIsV0FBb0IsR0FJaEJDLEdBRlNQLEVBQUlDLEVBQVNLLEdBRVhMLEVBQVFPLE9BQVNQLEVBQVFPLE9BQVMsSUFJakRKLEVBQU9LLFFBQVVGLEciLCJmaWxlIjoiMS5kMDcwMDZmMDNkNzE1MjlmNzM0My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VVcmwgfSBmcm9tICcuL0Jhc2VVcmwuanMnXG5jb25zdCBiYXNlVXJsID0gQmFzZVVybCgpXG5cblxuXG5cbmV4cG9ydCBsZXQgZ2V0VGVjaG5vbG9naWVzID0gYXN5bmMgKHR5cGUpID0+IHtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS90ZWNobm9sb2dpZXNgKVxuICAgIC50aGVuKChyZXMpID0+IHtcblxuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChhbnMpID0+IHtcbiAgICAgIHJldHVybiBhbnNcbiAgICB9KVxuXG4gIHJldHVybiB0eXBlLCByZXN1bHRzXG59IiwiaW1wb3J0IHsgQmFzZVVybCB9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5leHBvcnQgbGV0IGdldFByb2plY3RzID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG5cbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0c1xufVxuXG5leHBvcnQgbGV0IGdldFByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzLyR7aWR9YClcbiAgICAudGhlbigocmVzKSA9PiB7XG5cbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG5cblxuXG5leHBvcnQgY29uc3QgYWRkUHJvamVjdCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdlcmUnKVxuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHNgLCB7XG4gICAgbWV0aG9kOiBgcG9zdGAsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxufVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0ID0gYXN5bmMgKGJvZHksIGlkKSA9PiB7XG4gIGNvbnNvbGUubG9nKChib2R5KSlcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9KVxuXG59XG4vL1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcblxuXG5cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgZGVsZXRlYCxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIGNvbnNvbGUubG9nKHJlcylcbn1cblxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyA9IGFzeW5jIChwcm9qZWN0X2lkLCBpZCkgPT4ge1xuICBjb25zb2xlLmxvZygndXB0JylcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtwcm9qZWN0X2lkfS90ZWNobm9sb2dpZXMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIGNvbnNvbGUubG9nKHJlcylcblxufSIsIi8vIGltcG9ydCBcIi4uL1NoYXJlZC9JbWFnZVwiXG5pbXBvcnQgeyBxcywgcXNhLCBjZWNsLCBhYywgYnRuIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyXCJcbmltcG9ydCB7IHZlcmlmeSB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlBdXRoLmpzXCJcbmltcG9ydCB7IGdldFRlY2hub2xvZ2llcyB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlUZWNoLmpzXCJcbmltcG9ydCB7IEltYWdlIH0gZnJvbSBcIi4uL1NoYXJlZC9JbWFnZS5qc1wiXG5pbXBvcnQgeyBGb290ZXIgfSBmcm9tIFwiLi4vRm9vdGVyL0Zvb3Rlci5qc1wiXG5cblxuaW1wb3J0IHtcbiAgZ2V0UHJvamVjdHMsXG4gIGFkZFByb2plY3QsXG4gIHVwZGF0ZVByb2plY3QsXG4gIGRlbGV0ZVByb2plY3QsXG4gIHVwZGF0ZVByb2plY3RUZWNobm9sb2dpZXMsXG59IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlQcm9qZWN0LmpzXCJcbmltcG9ydCB7IEZvcm0sIElucHV0LCBCdXR0b24sIENoZWNrYm94LCBMYWJlbCB9IGZyb20gXCIuLi9TaGFyZWQvRm9ybS5qc1wiXG5pbXBvcnQgeyBFZGl0UHJvamVjdCB9IGZyb20gXCIuL0VkaXRQcm9qZWN0XCJcbmltcG9ydCBcIi4vcHJvamVjdHMuc2Nzc1wiXG5cbi8qKioqKioqKioqXG4gQ0xFQVIgUEFHRVxuKioqKioqKioqKiovXG5jb25zdCBjbGVhclBhZ2UgPSAoZWxlbWVudCkgPT4ge1xuICB3aGlsZSAoZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5sYXN0Q2hpbGQpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFByb2plY3RzKCkge1xuICBsZXQgbWFpbkNvbnRlbnQgPSBxcyhcIi5tYWluLWNvbnRlbnQtc2Nyb2xsYWJsZVwiKVxuICBjbGVhclBhZ2UobWFpbkNvbnRlbnQpXG4gIGxldCBsb2FkaW5nID0gbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcImxvYWRpbmdcIikpXG4gIGxvYWRpbmcuaW5uZXJIVE1MID0gXCJsb2FkaW5nLi4uXCJcblxuXG4gIC8qKioqKioqKioqKioqKlxuICBSRU5ERVIgUFJPSkVDVFNcbiAgKioqKioqKioqKioqKioqL1xuICBjb25zdCByZXNwID0gYXdhaXQgZ2V0UHJvamVjdHMoKVxuICBjbGVhclBhZ2UobWFpbkNvbnRlbnQpXG5cblxuICBjb25zdCBjb250YWluZXJXaWR0aCA9IG1haW5Db250ZW50LmNsaWVudFdpZHRoXG5cbiAgcmVzcC5mb3JFYWNoKGFzeW5jIChwcm9qZWN0LCBpbmRleCkgPT4ge1xuXG4gICAgXG5cbiAgICBjb25zdCBwcm9qZWN0V3JhcCA9IG1haW5Db250ZW50LmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJwcm9qZWN0LXdyYXBcIikpXG4gICAgY29uc3QgaW1hZ2UgPSBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChcbiAgICAgIEltYWdlKGBzcmMvaW1nLyR7cHJvamVjdC5pbWdfdXJsfWAsIHByb2plY3QubmFtZSwgdHJ1ZSwgcHJvamVjdC5zaXRlX3VybCwgcHJvamVjdC5idWlsZF9kYXRlKVxuICAgIClcbiAgICBjb25zb2xlLmxvZyhpbWFnZSlcbiAgICBsZXQgYm9vbCA9IFwiZmFsc2VcIlxuICAgIGxldCBsaW5rTW9kYWwgPSBjZWNsKFwiZGl2XCIsIFwibGluay1tb2RhbFwiKVxuXG4gICAgbGV0IGltZ1dyYXBwZXIgPSBxc2EoXCIuaW1nLXdyYXBwZXJcIilcbiAgICBsZXQgaW5uZXJJbWdXcmFwID0gcXNhKFwiLmlubmVyLWltZy13cmFwXCIpXG4gICAgbGV0IHRlY2hJY29ucyA9IGNlY2woXCJkaXZcIiwgXCJ0ZWNoLWljb25zXCIpXG4gICAgcHJvamVjdC50ZWNobm9sb2dpZXMuZm9yRWFjaCgoaWNvbikgPT4ge1xuICAgICAgbGV0IHRlY2hJY29uID0gdGVjaEljb25zLmFwcGVuZENoaWxkKGNlY2woXCJpbWdcIiwgXCJ0ZWNoLWljb25cIikpXG4gICAgICB0ZWNoSWNvbi5zcmMgPSBgc3JjL2ltZy8ke2ljb24uaWNvbl91cmx9YFxuICAgIH0pXG4gICAgbGV0IGRlc2NyaXB0aW9uID0gY2VjbCgnZGl2JywgJ2Rlc2NyaXB0aW9uJylcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBwcm9qZWN0LmRlc2NyaXB0aW9uXG5cbiAgICBpZiAoY29udGFpbmVyV2lkdGggPCA5MDApIHtcbiAgICAgIGxpbmtNb2RhbC5hcHBlbmRDaGlsZCh0ZWNoSWNvbnMpXG5cbiAgICAgIGxpbmtNb2RhbC5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbilcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGxpbmtNb2RhbC5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbilcbiAgICAgIGxpbmtNb2RhbC5hcHBlbmRDaGlsZCh0ZWNoSWNvbnMpXG5cbiAgICB9XG5cblxuXG4gICAgbGV0IGxpbmtNb2RhbEljb25zID0gbGlua01vZGFsLmFwcGVuZENoaWxkKGNlY2woJ2RpdicsICdsaW5rLW1vZGFsLWljb25zJykpXG5cblxuICAgIGxpbmtNb2RhbEljb25zLmlubmVySFRNTCA9XG4gICAgICBgPGRpdj48YSBocmVmPSR7cHJvamVjdC5zaXRlX3VybH0gdGFyZ2V0PSdfYmxhbmsnPjxpIGNsYXNzPVwiZmFzIGZhLWhvbWUgZmEtZndcIj48L2k+PC9hPlxuICAgIDxwIGNsYXNzPSdob21lLXRvb2wtdGlwJz53ZWJzaXRlPC9wPjwvZGl2PlxuXG4gICAgPGRpdj48YSBocmVmPSR7cHJvamVjdC5naXRodWJfdXJsfSB0YXJnZXQ9J19ibGFuayc+PGkgY2xhc3M9XCJmYWIgZmEtZ2l0aHViXCI+PC9pPjwvYT5cbiAgICA8cCBjbGFzcz0nZ2l0aHViLXRvb2wtdGlwJz5naXRodWI8L3A+PC9kaXY+YFxuXG5cbiAgICBjb25zb2xlLmxvZyhpbm5lckltZ1dyYXBbMF0uY2hpbGRyZW5bMV0pXG5cblxuXG5cblxuXG4gICAgLyoqKioqKioqKioqKioqXG4gICAgQUREIExJTksgTU9EQUxcbiAgICAqKioqKioqKioqKioqKiovXG4gICAgaW1nV3JhcHBlcltpbmRleF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChib29sID09PSBcInRydWVcIikge1xuICAgICAgICBib29sID0gXCJmYWxzZVwiXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LmFkZChcImNsb3NlLWN1cnRhaW5cIilcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1jdXJ0YWluXCIpXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLmxhc3RDaGlsZC5yZW1vdmUoKVxuXG5cbiAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUud2lkdGggPSAnODAlJ1xuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS5wYWRkaW5nID0gJzYlJ1xuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS5tYXJnaW4gPSAnMCdcblxuICAgICAgICBwcm9qZWN0V3JhcC5zdHlsZS5tYXJnaW4gPSAnMCAxMCUgMyUgMTAlJ1xuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLnN0eWxlLndpZHRoID0gJzEwMCUnXG5cbiAgICAgICAgcHJvamVjdFdyYXAuY2xhc3NMaXN0LnJlbW92ZShcInByb2plY3Qtd3JhcC1jbGlja1wiKVxuXG4gICAgICAgIGltYWdlLmxhc3RDaGlsZC5yZW1vdmUoKVxuXG4gICAgICAgIC8vIGlubmVySW1nV3JhcFtpbmRleF0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnXG5cbiAgICAgIH0gZWxzZSBpZiAoYm9vbCA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGJvb2wpXG4gICAgICAgIGJvb2wgPSBcInRydWVcIlxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJvcGVuLWN1cnRhaW5cIilcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKFwiY2xvc2UtY3VydGFpblwiKVxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5hcHBlbmRDaGlsZChsaW5rTW9kYWwpXG5cblxuICAgICAgICBpZiAoY29udGFpbmVyV2lkdGggPCA5MDApIHtcbiAgICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbidcbiAgICAgICAgICBsaW5rTW9kYWwuc3R5bGUud2lkdGggPSAnOTAlJ1xuICAgICAgICAgIHRlY2hJY29ucy5zdHlsZS53aWR0aCA9ICc4MCUnXG4gICAgICAgICAgbGlua01vZGFsLnN0eWxlLm1hcmdpblRvcCA9ICc1JSdcbiAgICAgICAgICBsaW5rTW9kYWwuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2IoMjQwLCAyNTMsIDI1MyknXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS53aWR0aCA9ICc5MCUnXG4gICAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUucGFkZGluZyA9ICcyJSdcbiAgICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS5tYXJnaW4gPSAnMCBhdXRvJ1xuICAgICAgICAgIHByb2plY3RXcmFwLnN0eWxlLm1hcmdpbiA9ICcwIDElJ1xuXG4gICAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5zdHlsZS53aWR0aCA9ICc5OSUnXG4gICAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5zdHlsZS5oZWlnaHQgPSAnOTklJ1xuICAgICAgICAgIC8vIFxuICAgICAgICB9XG5cblxuICAgICAgICBpZiAoY29udGFpbmVyV2lkdGggPCA5MDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnOTAwLScpXG4gICAgICAgICAgaW1hZ2UuYXBwZW5kQ2hpbGQodGVjaEljb25zKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCc5MDArJylcbiAgICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmFwcGVuZENoaWxkKHRlY2hJY29ucylcblxuICAgICAgICB9XG5cblxuXG4gICAgICAgIGNvbnNvbGUubG9nKGltYWdlKVxuXG4gICAgICAgIGxldCBpdyA9IGltZ1dyYXBwZXJbaW5kZXhdLnN0eWxlXG4gICAgICAgIGl3LnNldFByb3BlcnR5KFxuICAgICAgICAgIFwiLS1hbmltYXRpb25cIixcbiAgICAgICAgICBcImFuaW1hdGUtaW1nLXdyYXBwZXIgMS41cyBsaW5lYXIgZm9yd2FyZHNcIlxuICAgICAgICApXG4gICAgICAgIHByb2plY3RXcmFwLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXdyYXAtY2xpY2tcIilcblxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvKioqKioqKioqKioqKioqKioqKlxuICAgICBFRElUIFBST0pFQ1QgQlVUVE9OXG4gICAgKioqKioqKioqKioqKioqKioqKiovXG4gICAgaWYgKGF3YWl0IHZlcmlmeSgpKSB7XG4gICAgICBjb25zdCBlZGl0UHJvamVjdFdyYXBwZXIgPSBjZWNsKFwiZGl2XCIsIFwiZWRpdC1wcm9qZWN0LXdyYXBwZXJcIilcbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBCdXR0b24oXCJzaG93LWVkaXQtYnV0dG9uXCIsIFwic3VibWl0XCIsIFwidXBkYXRlXCIpXG4gICAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RXcmFwLmxhc3RDaGlsZC5jbGFzc05hbWUpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9qZWN0V3JhcC5sYXN0Q2hpbGQuY2xhc3NOYW1lICE9PSBcImVkaXQtcHJvamVjdC1mb3JtXCJcbiAgICAgICAgKVxuICAgICAgICAgIEVkaXRQcm9qZWN0KHByb2plY3RXcmFwLCBwcm9qZWN0KVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBwcm9qZWN0V3JhcC5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGVkaXRQcm9qZWN0V3JhcHBlci5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKVxuXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgREVMRVRFIFBST0pFQ1QgQlVUVE9OXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBCdXR0b24oXCJkZWxldGUtcHJvamVjdFwiLCBcInN1Ym1pdFwiLCBcImRlbGV0ZVwiKVxuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCBhbnN3ZXIgPSBjb25maXJtKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICR7cHJvamVjdC5uYW1lfT9gKVxuICAgICAgICBhbnN3ZXIgJiYgYXdhaXQgZGVsZXRlUHJvamVjdChwcm9qZWN0LmlkKVxuICAgICAgICBhbnN3ZXIgJiYgYXdhaXQgUHJvamVjdHMoKVxuICAgICAgfSlcbiAgICAgIGVkaXRQcm9qZWN0V3JhcHBlci5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pXG5cbiAgICAgIHByb2plY3RXcmFwLmFwcGVuZENoaWxkKGVkaXRQcm9qZWN0V3JhcHBlcilcbiAgICB9XG4gIH0pXG5cbiAgLyoqKioqKioqKioqXG4gIEFERCBQUk9KRUNUIFxuICAqKioqKioqKioqKiovXG4gIGlmIChhd2FpdCB2ZXJpZnkoKSkge1xuICAgIGNvbnNvbGUubG9nKCdub3QgZmFpcicpXG4gICAgbGV0IGFkZEJ0biA9IEJ1dHRvbihcInNob3ctYWRkLWZvcm1cIiwgXCJzdWJtaXRcIiwgXCJhZGQgcHJvamVjdFwiKVxuICAgIGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2cobWFpbkNvbnRlbnQubGFzdENoaWxkLnByZXZpb3VzU2libGluZy5jbGFzc05hbWUpXG4gICAgICBpZiAobWFpbkNvbnRlbnQubGFzdENoaWxkLnByZXZpb3VzU2libGluZy5jbGFzc05hbWUgPT09IFwic2hvdy1hZGQtZm9ybVwiKVxuICAgICAgICBFZGl0UHJvamVjdChtYWluQ29udGVudCwgcmVzcFswXSwgXCJhZGRQcm9qZWN0XCIpXG4gICAgICBlbHNlIHtcbiAgICAgICAgbWFpbkNvbnRlbnQubGFzdENoaWxkLnJlbW92ZSgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGFjKG1haW5Db250ZW50LCBhZGRCdG4pXG4gIH1cblxuICAvLyAvL2Rvd24gYnV0dG9uXG5cbiAgLy8gY29uc3Qgc2VlTW9yZUJ0biA9IEJ1dHRvbignc2VlLW1vcmUtYnRuJywgJ3N1Ym1pdCcsICdzZWUgbW9yZScpXG5cbiAgLy8gYWMobWFpbkNvbnRlbnQsIHNlZU1vcmVCdG4pXG5cbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoRm9vdGVyKCkpXG5cblxufVxuIiwiaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiwgQ2hlY2tib3gsIExhYmVsIH0gZnJvbSBcIi4uL1NoYXJlZC9Gb3JtLmpzXCJcbmltcG9ydCB7IGdldFRlY2hub2xvZ2llcyB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlUZWNoLmpzXCJcbmltcG9ydCB7XG4gIGdldFByb2plY3QsXG4gIGFkZFByb2plY3QgYXMgYWRkTmV3UHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdCxcbiAgZGVsZXRlUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVByb2plY3QuanNcIlxuaW1wb3J0IHsgUHJvamVjdHMgfSBmcm9tIFwiLi9Qcm9qZWN0cy5qc1wiXG5pbXBvcnQgeyBhYywgY2VjbCB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG5cbmV4cG9ydCBjb25zdCBFZGl0UHJvamVjdCA9IGFzeW5jIChwcm9qZWN0V3JhcCwgcHJvamVjdCwgYWRkUHJvamVjdCkgPT4ge1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gIE1BS0UgQU5EIFNFVCBGT1JNICBJTlBVVFNcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgY29uc29sZS5sb2coXCJhZGRcIiwgYWRkUHJvamVjdClcbiAgaWYgKGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiKSB7XG4gICAgZm9yIChsZXQgaXRlbSBpbiBwcm9qZWN0KSB7XG4gICAgICBwcm9qZWN0W2l0ZW1dID0gXCJcIlxuICAgIH1cbiAgfVxuICBsZXQgbmV3UHJvamVjdCA9IHt9XG5cbiAgbGV0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coZS50YXJnZXQubmFtZSwgZS50YXJnZXQudmFsdWUpXG4gICAgbmV3UHJvamVjdFtlLnRhcmdldC5uYW1lXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgY29uc29sZS5sb2coJ2Ntb24nLCBuZXdQcm9qZWN0KVxuICB9XG5cbiAgbGV0IGZvcm0gPSBGb3JtKFwiZWRpdC1wcm9qZWN0LWZvcm1cIilcbiAgbGV0IGlucHV0cyA9IGNlY2woJ2RpdicsICdlZGl0LWZvcm0taW5wdXRzJylcbiAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dHMpXG4gIE9iamVjdC5rZXlzKHByb2plY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChcbiAgICAgIGtleSAhPT0gXCJpZFwiICYmXG4gICAgICBrZXkgIT09IFwidGVjaG5vbG9naWVzXCIgJiZcbiAgICAgIGtleSAhPT0gXCJjcmVhdGVkX2F0XCIgJiZcbiAgICAgIGtleSAhPT0gXCJ1cGRhdGVkX2F0XCJcbiAgICApIHtcbiAgICAgIG5ld1Byb2plY3Rba2V5XSA9IHByb2plY3Rba2V5XVxuICAgICAgY29uc3QgaW5wdXQgPSBJbnB1dCh7XG4gICAgICAgIGNsYXNzTmFtZTogXCJlZGl0LWZvcm0taW5wdXRcIixcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgdmFsdWU6IGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiID8gXCJcIiA6IG5ld1Byb2plY3Rba2V5XSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IGtleSxcbiAgICAgICAgaGFuZGxlQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICB9KVxuICAgICAgaW5wdXRzLmFwcGVuZENoaWxkKGlucHV0KVxuICAgIH1cbiAgfSlcblxuICAvKioqKioqKioqKioqKipcbiAgIFNFVCBDSEVDS0JPWEVTXG4gICoqKioqKioqKioqKioqKi9cbiAgY29uc3QgY2hlY2tzID0gY2VjbCgnZGl2JywgJ2VkaXQtZm9ybS1jaGVja2JveGVzJylcbiAgZm9ybS5hcHBlbmRDaGlsZChjaGVja3MpXG4gIGxldCB0ZWNobm9sb2dpZXMgPSBhd2FpdCBnZXRUZWNobm9sb2dpZXMoKVxuICB0ZWNobm9sb2dpZXMubWFwKCh0ZWNobm9sb2d5KSA9PiB7XG5cbiAgICBsZXQgY2hlY2tlZFxuICAgIGFkZFByb2plY3QgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgcHJvamVjdC50ZWNobm9sb2dpZXMuZm9yRWFjaCgocHJvamVjdFRlY2hub2xvZ3kpID0+IHtcbiAgICAgICAgaWYgKHRlY2hub2xvZ3kubmFtZSA9PT0gcHJvamVjdFRlY2hub2xvZ3kubmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRlY2hub2xvZ3kubmFtZSwgcHJvamVjdFRlY2hub2xvZ3kubmFtZSlcbiAgICAgICAgICBjaGVja2VkID0gXCJjaGVja2VkXCJcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBsZXQgYnggPSBDaGVja2JveCh7XG4gICAgICBjbGFzc05hbWU6IFwiZWRpdC1wcm9qZWN0LWNoa2JveFwiLFxuICAgICAgbmFtZTogdGVjaG5vbG9neS5uYW1lLFxuICAgICAgaWQ6IHRlY2hub2xvZ3kubmFtZSxcbiAgICAgIHZhbHVlOiB0ZWNobm9sb2d5LmlkLFxuICAgICAgY2hlY2tlZDogYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIgPyBcIlwiIDogY2hlY2tlZCxcblxuICAgIH0pXG4gICAgY2hlY2tzLmFwcGVuZENoaWxkKGJ4KVxuICAgIGNoZWNrcy5hcHBlbmRDaGlsZChMYWJlbChcInRlY2gtYm94LWxhYmVsXCIsIHRlY2hub2xvZ3kubmFtZSwgXCJ0ZWNoLWJveFwiKSlcblxuICB9KVxuICBmb3JtLmFwcGVuZENoaWxkKFxuICAgIEJ1dHRvbihcbiAgICAgIFwiZWRpdC1wcm9qZWN0LWJ1dHRvblwiLFxuICAgICAgXCJzdWJtaXRcIixcbiAgICAgIGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiID8gXCJhZGQgbmV3IHByb2plY3RcIiA6IFwic3VibWl0XCJcbiAgICApXG4gIClcblxuXG4gIGFjKHByb2plY3RXcmFwLCBmb3JtKVxuXG5cbiAgLyoqKioqKioqKipcbiAgIFNVQk1JVCBGT1JNXG4gICoqKioqKioqKioqL1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXN5bmMgKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coXCJhZGRcIiwgYWRkUHJvamVjdClcblxuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZFwiKVxuICAgIGNvbnNvbGUubG9nKGNoZWNrYm94ZXMsIG5ld1Byb2plY3QpXG4gICAgbmV3UHJvamVjdC50ZWNobm9sb2dpZXMgPSBbXVxuICAgIGNoZWNrYm94ZXMuZm9yRWFjaCgoYm94KSA9PiB7XG4gICAgICBuZXdQcm9qZWN0LnRlY2hub2xvZ2llcy5wdXNoKGJveC52YWx1ZSlcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKFwiYWRkXCIsIG5ld1Byb2plY3QpXG4gICAgYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCJcbiAgICAgID8gYXdhaXQgYWRkTmV3UHJvamVjdChuZXdQcm9qZWN0KVxuICAgICAgOiBhd2FpdCB1cGRhdGVQcm9qZWN0KG5ld1Byb2plY3QsIHByb2plY3QuaWQpXG5cbiAgICBhd2FpdCBQcm9qZWN0cygpXG4gIH0pXG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wcm9qZWN0cy5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyJdLCJzb3VyY2VSb290IjoiIn0=