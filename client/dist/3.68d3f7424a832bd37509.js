(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{114:function(t,e,n){var o=n(1),a=n(115);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1},l=(o(a,i),a.locals?a.locals:{});t.exports=l},115:function(t,e,n){},122:function(t,e,n){"use strict";n.r(e),n.d(e,"Signup",(function(){return i}));var o=n(93),a=n(0);n(114);const i=async()=>{let t=Object(a.e)(".main-content-scrollable");for(;t.childNodes.length>1;)t.removeChild(t.lastChild);let e={},n=Object(a.c)("div","sign-up"),i=Object(a.c)("form","login-form");["username","email","password"].map(t=>{let n=i.appendChild(Object(a.c)("label","login-label"));n.setAttribute("for",t),n.innerText=t;let o=i.appendChild(Object(a.c)("input",`login-${t}`));o.setAttribute("id",t),o.setAttribute("name",t),o.addEventListener("keyup",t=>{e[t.target.name]=t.target.value,console.log(t.target.value,e)})});const l=Object(a.c)("button","submit-login");l.innerText="signUp",i.appendChild(l),i.addEventListener("submit",async t=>{t.preventDefault(),console.log("body",e);let n=await Object(o.c)(e);console.log(n)});let c=Object(a.c)("button","login");c.classList.add("login-btn");let r=await Object(o.d)();if(r.errors){console.log("logout due to error"),Object(o.b)();Object(a.c)("button","login")}c.innerText=r?"logout":"login",c.addEventListener("click",async()=>{if(console.log(r),r||0===Object.keys(e).length){await Object(o.b)()&&(c.innerText="login")}else{e={auth:{...e}},console.log(e);await Object(o.a)(e);let t=await Object(o.d)();console.log(t),c.innerText=t&&"logout"}}),n.appendChild(i),n.appendChild(c),t.appendChild(n)}},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o=()=>"https://portfolio-mick-server.herokuapp.com"},93:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return r}));var o=n(91);const a=Object(o.a)();const i=async t=>(console.log(JSON.stringify(t)),await fetch(a+"/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>(localStorage.setItem("authToken",t.token),t))),l=async t=>await fetch(a+"/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>(localStorage.setItem("authToken",t.token),t)),c=async()=>{if(localStorage.getItem("authToken")){return await fetch(a+"/auth/verify",{method:"get",headers:(t={"Content-Type":"application/json"},localStorage.authToken?{...t,Authorization:`Bearer ${localStorage.authToken}`}:t)}).then(t=>t.json()).then(t=>t)}var t;return!1},r=async()=>(localStorage.removeItem("authToken"),{"Content-Type":"application/json"},"logged out")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Mb2dpbi9zaWdudXAuc2Nzcz9lNThmIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0xvZ2luL1NpZ25VcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9CYXNlVXJsLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaUF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJTaWdudXAiLCJhc3luYyIsIm1haW5Db250ZW50IiwiY2hpbGROb2RlcyIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiYm9keSIsInNpZ25VcERpdiIsImZvcm0iLCJtYXAiLCJlbCIsImxhYmVsIiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJpbnB1dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwibmFtZSIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsImJ1dHRvbiIsInByZXZlbnREZWZhdWx0Iiwic2lnblVwUmVzIiwibG9naW5CdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJjdXJyZW50VXNlciIsImVycm9ycyIsIk9iamVjdCIsImtleXMiLCJhdXRoIiwiQmFzZVVybCIsImJhc2VVcmwiLCJzaWduVXAiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwidGhlbiIsImpzb24iLCJkYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInRva2VuIiwibG9naW4iLCJ2ZXJpZnkiLCJnZXRJdGVtIiwiYXV0aFRva2VuIiwiQXV0aG9yaXphdGlvbiIsImxvZ291dCIsInJlbW92ZUl0ZW0iXSwibWFwcGluZ3MiOiI2RUFB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RUFBS0csT0FFaENILElBTUFLLEVBQVNqRCxVQUdwQixHQUZjNkMsYUFBYUssUUFBUSxhQUV4QixDQWNULGFBYmtCWCxNQUFNSixFQUFVLGVBQWdCLENBQ2hESyxPQUFRLE1BQ1JDLFNBN0RxQkEsRUE2REQsQ0FDbEIsZUFBZ0Isb0JBN0RsQkksYUFBYU0sVUFDUixJQUNGVixFQUNIVyxjQUFlLFVBQVVQLGFBQWFNLGFBR2pDVixLQTBESkMsS0FBTUMsR0FDRUEsRUFBS0EsUUFFYkQsS0FBTUUsR0FDRUEsR0FyRVIsSUFBb0JILEVBMkV6QixPQUFPLEdBc0JJWSxFQUFTckQsVUFDcEI2QyxhQUFhUyxXQUFXLGFBQ1gsQ0FDWCxlQUFnQixvQkFFWCIsImZpbGUiOiIzLjY4ZDNmNzQyNGE4MzJiZDM3NTA5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc2lnbnVwLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiaW1wb3J0IHtcbiBcbiAgc2lnblVwLFxuICBsb2dpbixcbiAgdmVyaWZ5LFxuICBsb2dvdXQsXG59IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlBdXRoLmpzXCJcbmltcG9ydCB7IGNlY2wsIHFzIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyLmpzXCJcbmltcG9ydCBcIi4vc2lnbnVwLnNjc3NcIlxuXG5cblxuXG5leHBvcnQgY29uc3QgU2lnbnVwID0gYXN5bmMgKCkgPT4ge1xuIFxuICBsZXQgbWFpbkNvbnRlbnQgPSBxcyhcIi5tYWluLWNvbnRlbnQtc2Nyb2xsYWJsZVwiKVxuICB3aGlsZSAobWFpbkNvbnRlbnQuY2hpbGROb2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgbWFpbkNvbnRlbnQucmVtb3ZlQ2hpbGQobWFpbkNvbnRlbnQubGFzdENoaWxkKVxuICB9XG5cbiAgY29uc3QgaW5wdXRzID0gW1widXNlcm5hbWVcIiwgXCJlbWFpbFwiLCBcInBhc3N3b3JkXCJdXG4gIC8vIGNvbnN0IGJvZHkgPSB7dXNlcm5hbWU6JycsIGVtYWlsOicnLCBwYXNzd29yZDonJ31cbiAgbGV0IGJvZHkgPSB7IH1cblxuICBsZXQgc2lnblVwRGl2ID0gY2VjbChcImRpdlwiLCBcInNpZ24tdXBcIilcbiAgbGV0IGZvcm0gPSBjZWNsKFwiZm9ybVwiLCBcImxvZ2luLWZvcm1cIilcblxuICBpbnB1dHMubWFwKChlbCkgPT4ge1xuICAgIGxldCBsYWJlbCA9IGZvcm0uYXBwZW5kQ2hpbGQoY2VjbChgbGFiZWxgLCBgbG9naW4tbGFiZWxgKSlcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoYGZvcmAsIGVsKVxuICAgIGxhYmVsLmlubmVyVGV4dCA9IGVsXG4gICAgbGV0IGlucHV0ID0gZm9ybS5hcHBlbmRDaGlsZChjZWNsKFwiaW5wdXRcIiwgYGxvZ2luLSR7ZWx9YCkpXG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKGBpZGAsIGVsKVxuICAgIGlucHV0LnNldEF0dHJpYnV0ZShgbmFtZWAsIGVsKVxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xuICAgICBcbiAgICAgIGJvZHlbZS50YXJnZXQubmFtZV0gPSBlLnRhcmdldC52YWx1ZVxuICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudmFsdWUsIGJvZHkpXG4gICAgfSlcbiAgICBcbiAgfSlcbiAgY29uc3QgYnV0dG9uID0gY2VjbChcImJ1dHRvblwiLCBcInN1Ym1pdC1sb2dpblwiKVxuICBidXR0b24uaW5uZXJUZXh0ID0gXCJzaWduVXBcIlxuICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbilcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coXCJib2R5XCIsIGJvZHkpXG4gICAgbGV0IHNpZ25VcFJlcyA9IGF3YWl0IHNpZ25VcChib2R5KVxuICAgIGNvbnNvbGUubG9nKHNpZ25VcFJlcylcbiAgfSlcblxuICBsZXQgbG9naW5CdXR0b24gPSBjZWNsKFwiYnV0dG9uXCIsIFwibG9naW5cIilcbiAgbG9naW5CdXR0b24uY2xhc3NMaXN0LmFkZCgnbG9naW4tYnRuJylcblxuICBcbiAgbGV0IGN1cnJlbnRVc2VyID0gYXdhaXQgdmVyaWZ5KClcbiAgaWYoY3VycmVudFVzZXIuZXJyb3JzKXtcbiAgICBjb25zb2xlLmxvZygnbG9nb3V0IGR1ZSB0byBlcnJvcicpXG4gICAgbG9nb3V0KClcbiAgICBsZXQgbG9naW5CdXR0b24gPSBjZWNsKFwiYnV0dG9uXCIsIFwibG9naW5cIilcblxuXG4gIH1cbiAgXG5cbiAgbG9naW5CdXR0b24uaW5uZXJUZXh0ID0gY3VycmVudFVzZXIgPyAnbG9nb3V0JyA6ICdsb2dpbicgXG4gIFxuXG4gIGxvZ2luQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gbGV0IGN1cnJlbnRVc2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKVxuICAgIGNvbnNvbGUubG9nKGN1cnJlbnRVc2VyKVxuXG4gICAgaWYgKCFjdXJyZW50VXNlciAmJiBPYmplY3Qua2V5cyhib2R5KS5sZW5ndGggIT09IDApIHtcbiAgICAgIGJvZHkgPSB7IGF1dGg6IHsgLi4uYm9keSB9IH1cbmNvbnNvbGUubG9nKGJvZHkpXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IGxvZ2luKGJvZHkpXG4gICAgICBsZXQgY3VycmVudFVzZXIgPSBhd2FpdCB2ZXJpZnkoKVxuICAgICAgY29uc29sZS5sb2coY3VycmVudFVzZXIpXG5cbiAgICAgIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IGN1cnJlbnRVc2VyICYmICdsb2dvdXQnXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXNMb2dvdXQgPSBhd2FpdCBsb2dvdXQoKVxuXG4gICAgICBpZiAocmVzTG9nb3V0KSB7XG4gICAgICAgIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IFwibG9naW5cIlxuICAgICAgICBcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgc2lnblVwRGl2LmFwcGVuZENoaWxkKGZvcm0pXG4gIHNpZ25VcERpdi5hcHBlbmRDaGlsZChsb2dpbkJ1dHRvbilcbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoc2lnblVwRGl2KVxuXG4gIFxufVxuIiwiXG5leHBvcnQgY29uc3QgQmFzZVVybCA9ICgpID0+IHtcblxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJ2h0dHBzOi8vcG9ydGZvbGlvLW1pY2stc2VydmVyLmhlcm9rdWFwcC5jb20nIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCdcblxufSIsImltcG9ydCB7IEJhc2VVcmwgfSBmcm9tIFwiLi9CYXNlVXJsLmpzXCJcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhlYWRlcnMoaGVhZGVycykge1xuICBpZiAobG9jYWxTdG9yYWdlLmF1dGhUb2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oZWFkZXJzLFxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5hdXRoVG9rZW59YCxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJIZWFkZXJzKGhlYWRlcnMpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5oZWFkZXJzLFxuICAgIEF1dGhvcml6YXRpb246IG51bGwsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuXG4gIGxldCByZXMgPSBhd2FpdCBmZXRjaChiYXNlVXJsICsgXCIvdXNlcnNcIiwge1xuICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImF1dGhUb2tlblwiLCBkYXRhLnRva2VuKVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKGJhc2VVcmwgKyBcIi9hdXRoL2xvZ2luXCIsIHtcbiAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhdXRoVG9rZW5cIiwgZGF0YS50b2tlbilcblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9KVxuXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGNvbnN0IHZlcmlmeSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhUb2tlblwiKVxuICAvLyBjb25zb2xlLmxvZyh0b2tlbilcbiAgaWYgKHRva2VuKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYmFzZVVybCArIFwiL2F1dGgvdmVyaWZ5XCIsIHtcbiAgICAgIG1ldGhvZDogXCJnZXRcIixcbiAgICAgIGhlYWRlcnM6IHNldEhlYWRlcnMoe1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgfSlcblxuICAgIHJldHVybiByZXNcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhUb2tlblwiKSkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiaGVyZVwiLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhUb2tlblwiKSlcbiAgICBsZXQgdXNlciA9IGF3YWl0IHZlcmlmeSgpXG4gICAgY29uc29sZS5sb2codXNlcilcbiAgICBpZiAoIXVzZXIuZXJyb3JzKSB7XG4gICAgICAvLyBsb2dpbkJ1dHRvbi5pbm5lclRleHQgPSBcImxvZ291dFwiXG4gICAgICAvLyBsb2dnZWRJbiA9IHRydWVcbiAgICAgIHJldHVybiB1c2VyXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IFwibG9naW5cIlxuXG4gICAgLy8gbG9nZ2VkSW4gPSBmYWxzZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGNvbnNvbGUubG9nKGxvZ2dlZEluKVxufVxuXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImF1dGhUb2tlblwiKVxuICBjbGVhckhlYWRlcnMoe1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9KVxuICByZXR1cm4gXCJsb2dnZWQgb3V0XCJcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=