(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{115:function(e,t,n){var o=n(1),a=n(116);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var c={insert:"head",singleton:!1},i=(o(a,c),a.locals?a.locals:{});e.exports=i},116:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t),n.d(t,"Technologies",(function(){return l}));var o=n(0),a=n(97),c=n(99),i=n(3);n(115);async function l(){const e=Object(o.e)(".scrollable-content");for(;e.childNodes.length;)e.removeChild(e.lastChild);const t=await Object(a.d)(),n=e.appendChild(Object(o.c)("div","technologies")),l=await Object(c.c)();let s="",r="";const d=e=>{console.log(e.target.name,e.target.value),s=e.target.value};l.forEach((e,a)=>{let l=Object(o.c)("img","tech-icon");if(l.src=`src/img/${e.icon_url}`,n.appendChild(l),t&&t.isAdmin){let t=Object(o.c)("div","name");t.innerText=e.name;const a=Object(i.c)("tech-icon-form"),l=Object(i.d)({className:"techIconInput",name:e.name,type:"text",value:e.icon_url,placeholder:"tech-icon-url",handleChange:d});a.appendChild(l),a.appendChild(t),n.appendChild(a);const r=Object(i.a)("update-tech-icon-btn","submit","update icon url");a.addEventListener("submit",t=>{console.log(e.id),((e,t,n)=>{e.preventDefault(),Object(c.d)(t,n)})(t,{...e,icon_url:s},e.id)}),a.appendChild(r);const h=Object(i.a)("delete-tech-btn","submit");h.innerText="delete",h.addEventListener("click",()=>{console.log("test"),Object(c.b)(e.id)}),a.appendChild(h)}});const h=Object(i.c)("add-tech-icon-form"),u=Object(i.d)({className:"name",name:"nameInput",type:"text",value:"",placeholder:"new technology",handleChange:d}),p=Object(i.d)({className:"techIconInput",name:"input",type:"text",value:s,placeholder:"tech-icon-url",handleChange:e=>{console.log(e.target.name,e.target.value),r=e.target.value}});n.appendChild(h);const g=Object(i.a)("new-tech-icon-btn","submit","new icon url");return h.addEventListener("submit",async e=>{console.log(s);await((e,t)=>{e.preventDefault(),Object(c.a)(t)})(e,{name:r,icon_url:s})}),h.appendChild(g),h.appendChild(p),h.appendChild(u),e}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=()=>"https://portfolio-mick-server.herokuapp.com"},97:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var o=n(96);const a=Object(o.a)();const c=async e=>(console.log(JSON.stringify(e)),await fetch(a+"/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>(localStorage.setItem("authToken",e.token),e))),i=async e=>{console.log(e);let t=await fetch(a+"/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>(localStorage.setItem("authToken",e.token),e));return console.log(t),t},l=async()=>{if(localStorage.getItem("authToken")){return await fetch(a+"/auth/verify",{method:"get",headers:(e={"Content-Type":"application/json"},localStorage.authToken?{...e,Authorization:`Bearer ${localStorage.authToken}`}:e)}).then(e=>e.json()).then(e=>e)}var e;return!1},s=async()=>(localStorage.removeItem("authToken"),{"Content-Type":"application/json"},"logged out")},99:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var o=n(96);const a=Object(o.a)();let c=async()=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e),i=async e=>await fetch(`${a}/technologies`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);const l=async(e,t)=>{await fetch(`${a}/technologies/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},s=async e=>{await fetch(`${a}/technologies/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e).then(e=>e)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9UZWNobm9sb2dpZXMvVGVjaG5vbG9naWVzLnNjc3M/Yzk1YSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9UZWNobm9sb2dpZXMvVGVjaG5vbG9naWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0Jhc2VVcmwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2VydmljZXMvQXBpQXV0aC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIl0sIm5hbWVzIjpbImFwaSIsImNvbnRlbnQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vZHVsZSIsImkiLCJvcHRpb25zIiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJleHBvcnRzIiwiYXN5bmMiLCJUZWNobm9sb2dpZXMiLCJtYWluQ29udGVudFNjcm9sbGFibGUiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJ1c2VyIiwidGVjaG5vbG9naWVzIiwiYXBwZW5kQ2hpbGQiLCJ0ZWNoSWNvbnMiLCJuZXdJY29uVXJsIiwibmFtZSIsImhhbmRsZUNoYW5nZSIsImUiLCJjb25zb2xlIiwibG9nIiwidGFyZ2V0IiwidmFsdWUiLCJmb3JFYWNoIiwidGVjaCIsImluZGV4IiwiaWNvbiIsInNyYyIsImljb25fdXJsIiwiaXNBZG1pbiIsImlubmVyVGV4dCIsImZvcm0iLCJpbnB1dCIsImNsYXNzTmFtZSIsInR5cGUiLCJwbGFjZWhvbGRlciIsImJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJpZCIsImJvZHkiLCJwcmV2ZW50RGVmYXVsdCIsInVwZGF0ZSIsImRlbGV0ZUJ0biIsIm5hbWVJbnB1dCIsImNyZWF0ZSIsIkJhc2VVcmwiLCJiYXNlVXJsIiwic2lnblVwIiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJqc29uIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ0b2tlbiIsImxvZ2luIiwicmVzIiwidmVyaWZ5IiwiZ2V0SXRlbSIsImF1dGhUb2tlbiIsIkF1dGhvcml6YXRpb24iLCJsb2dvdXQiLCJyZW1vdmVJdGVtIiwiZ2V0VGVjaG5vbG9naWVzIiwiYW5zIiwiY3JlYXRlVGVjaG5vbG9neSIsInVwZGF0ZVRlY2hub2xvZ3kiLCJkZWxldGVUZWNobm9sb2d5Il0sIm1hcHBpbmdzIjoiNkVBQUEsSUFBSUEsRUFBTSxFQUFRLEdBQ0ZDLEVBQVUsRUFBUSxLQUlDLGlCQUZ2QkEsRUFBVUEsRUFBUUMsV0FBYUQsRUFBUUUsUUFBVUYsS0FHL0NBLEVBQVUsQ0FBQyxDQUFDRyxFQUFPQyxFQUFJSixFQUFTLE1BRzlDLElBQUlLLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUloQkMsR0FGU1AsRUFBSUMsRUFBU0ssR0FFWEwsRUFBUU8sT0FBU1AsRUFBUU8sT0FBUyxJQUlqREosRUFBT0ssUUFBVUYsRyx1RENwQmpCLDZGQU1PRyxlQUFlQyxJQUVwQixNQUFNQyxFQUF3QixZQUFHLHVCQUNqQyxLQUFPQSxFQUFzQkMsV0FBV0MsUUFDdENGLEVBQXNCRyxZQUFZSCxFQUFzQkksV0FHMUQsTUFBTUMsUUFBYSxjQUNiQyxFQUFlTixFQUFzQk8sWUFBWSxZQUFLLE1BQU8saUJBQzdEQyxRQUFrQixjQUV4QixJQUFJQyxFQUFhLEdBQ2JDLEVBQU8sR0FDWCxNQUFNQyxFQUFnQkMsSUFDcEJDLFFBQVFDLElBQUlGLEVBQUVHLE9BQU9MLEtBQU1FLEVBQUVHLE9BQU9DLE9BQ3BDUCxFQUFhRyxFQUFFRyxPQUFPQyxPQWtCeEJSLEVBQVVTLFFBQVEsQ0FBQ0MsRUFBTUMsS0FDdkIsSUFBSUMsRUFBTyxZQUFLLE1BQU8sYUFJdkIsR0FIQUEsRUFBS0MsSUFBTSxXQUFXSCxFQUFLSSxXQUMzQmhCLEVBQWFDLFlBQVlhLEdBRXJCZixHQUFRQSxFQUFLa0IsUUFBUyxDQUV4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QUdqQ1gsS0ErREpDLEtBQU1DLEdBQ0VBLEVBQUtBLFFBRWJELEtBQU1FLEdBQ0VBLEdBMUVSLElBQW9CSCxFQWdGekIsT0FBTyxHQXNCSWEsRUFBUzdELFVBQ3BCb0QsYUFBYVUsV0FBVyxhQUNYLENBQ1gsZUFBZ0Isb0JBRVgsZSxnQ0M5R1Qsb0pBQ0EsTUFBTXBCLEVBQVUsY0FLVCxJQUFJcUIsRUFBa0IvRCxlQUNQOEMsTUFBTSxHQUFHSixrQkFDMUJPLEtBQU1PLEdBRUVBLEVBQUlOLFFBRVpELEtBQU1lLEdBQ0VBLEdBT0ZDLEVBQW1CakUsTUFBT21DLFNBQ2ZXLE1BQU0sR0FBR0osaUJBQXdCLENBQ25ESyxPQUFRLE9BQ1JaLEtBQUtTLEtBQUtDLFVBQVVWLEdBQ3BCYSxRQUFTLENBQUUsZUFBZ0Isc0JBRTVCQyxLQUFNTyxHQUNFQSxFQUFJTixRQUVaRCxLQUFNZSxHQUNFQSxHQU1KLE1BQU1FLEVBQW1CbEUsTUFBT21DLEVBQU1ELFdBRXpCWSxNQUFNLEdBQUdKLGtCQUF3QlIsSUFBTSxDQUN2RGEsT0FBUSxNQUNSWixLQUFNUyxLQUFLQyxVQUFVVixHQUNyQmEsUUFBUyxDQUFFLGVBQWdCLHNCQUUxQkMsS0FBTUMsR0FDRUEsRUFBS0EsUUFFYkQsS0FBTUUsR0FDRUEsSUFLQWdCLEVBQW1CbkUsTUFBTWtDLFVBQ2pCWSxNQUFNLEdBQUdKLGtCQUF3QlIsSUFBSyxDQUN2RGEsT0FBUSxTQUNSQyxRQUFTLENBQUMsZUFBZ0Isc0JBRTNCQyxLQUFLQyxHQUNHQSxHQUVSRCxLQUFLRSxHQUNHQSIsImZpbGUiOiIzLmI2NzUxNTE1MzRlNDRmZjdmNjk1LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vVGVjaG5vbG9naWVzLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiaW1wb3J0IHsgY2VjbCwgcXMgfSBmcm9tICcuLi9IZWxwZXJzL2RvbUhlbHBlcidcbmltcG9ydCB7IHZlcmlmeSB9IGZyb20gJy4uL1NlcnZpY2VzL0FwaUF1dGgnXG5pbXBvcnQgeyBnZXRUZWNobm9sb2dpZXMsIGNyZWF0ZVRlY2hub2xvZ3ksIHVwZGF0ZVRlY2hub2xvZ3ksIGRlbGV0ZVRlY2hub2xvZ3kgfSBmcm9tICcuLi9TZXJ2aWNlcy9BcGlUZWNoJ1xuaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiB9IGZyb20gJy4uL1NoYXJlZC9Gb3JtJ1xuaW1wb3J0ICcuL1RlY2hub2xvZ2llcy5zY3NzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gVGVjaG5vbG9naWVzKCkge1xuXG4gIGNvbnN0IG1haW5Db250ZW50U2Nyb2xsYWJsZSA9IHFzKFwiLnNjcm9sbGFibGUtY29udGVudFwiKVxuICB3aGlsZSAobWFpbkNvbnRlbnRTY3JvbGxhYmxlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgbWFpbkNvbnRlbnRTY3JvbGxhYmxlLnJlbW92ZUNoaWxkKG1haW5Db250ZW50U2Nyb2xsYWJsZS5sYXN0Q2hpbGQpXG4gIH1cblxuICBjb25zdCB1c2VyID0gYXdhaXQgdmVyaWZ5KClcbiAgY29uc3QgdGVjaG5vbG9naWVzID0gbWFpbkNvbnRlbnRTY3JvbGxhYmxlLmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJ0ZWNobm9sb2dpZXNcIikpXG4gIGNvbnN0IHRlY2hJY29ucyA9IGF3YWl0IGdldFRlY2hub2xvZ2llcygpXG5cbiAgbGV0IG5ld0ljb25VcmwgPSAnJ1xuICBsZXQgbmFtZSA9ICcnXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coZS50YXJnZXQubmFtZSwgZS50YXJnZXQudmFsdWUpXG4gICAgbmV3SWNvblVybCA9IGUudGFyZ2V0LnZhbHVlXG4gIH1cblxuICBjb25zdCBoYW5kbGVOYW1lQ2hhbmdlID0gKGUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5uYW1lLCBlLnRhcmdldC52YWx1ZSlcbiAgICBuYW1lID0gZS50YXJnZXQudmFsdWVcbiAgfVxuICBjb25zdCBjcmVhdGUgPSAoZSwgYm9keSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgY3JlYXRlVGVjaG5vbG9neShib2R5KVxuXG4gIH1cbiAgY29uc3QgdXBkYXRlID0gKGUsIGJvZHksIGlkKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdXBkYXRlVGVjaG5vbG9neShib2R5LCBpZClcbiAgfVxuXG4gIHRlY2hJY29ucy5mb3JFYWNoKCh0ZWNoLCBpbmRleCkgPT4ge1xuICAgIGxldCBpY29uID0gY2VjbCgnaW1nJywgJ3RlY2gtaWNvbicpXG4gICAgaWNvbi5zcmMgPSBgc3JjL2ltZy8ke3RlY2guaWNvbl91cmx9YFxuICAgIHRlY2hub2xvZ2llcy5hcHBlbmRDaGlsZChpY29uKVxuXG4gICAgaWYgKHVzZXIgJiYgdXNlci5pc0FkbWluKSB7XG5cbiAgICAgIGxldCBuYW1lID0gY2VjbCgnZGl2JywgJ25hbWUnKVxuICAgICAgbmFtZS5pbm5lclRleHQgPSB0ZWNoLm5hbWVcbiAgICAgIGNvbnN0IGZvcm0gPSBGb3JtKCd0ZWNoLWljb24tZm9ybScpXG4gICAgICBjb25zdCBpbnB1dCA9IElucHV0KHsgY2xhc3NOYW1lOiAndGVjaEljb25JbnB1dCcsIG5hbWU6IHRlY2gubmFtZSwgdHlwZTogJ3RleHQnLCB2YWx1ZTogdGVjaC5pY29uX3VybCwgcGxhY2Vob2xkZXI6ICd0ZWNoLWljb24tdXJsJywgaGFuZGxlQ2hhbmdlIH0pXG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KVxuICAgICAgZm9ybS5hcHBlbmRDaGlsZChuYW1lKVxuICAgICAgdGVjaG5vbG9naWVzLmFwcGVuZENoaWxkKGZvcm0pXG5cbiAgICAgIGNvbnN0IGJ1dHRvbiA9IEJ1dHRvbigndXBkYXRlLXRlY2gtaWNvbi1idG4nLCAnc3VibWl0JywgJ3VwZGF0ZSBpY29uIHVybCcpXG4gICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlY2guaWQpXG4gICAgICAgIHVwZGF0ZShlLCB7IC4uLnRlY2gsIGljb25fdXJsOiBuZXdJY29uVXJsIH0sIHRlY2guaWQpXG4gICAgICB9KVxuICAgICAgZm9ybS5hcHBlbmRDaGlsZChidXR0b24pXG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IEJ1dHRvbignZGVsZXRlLXRlY2gtYnRuJywgJ3N1Ym1pdCcpXG4gICAgICBkZWxldGVCdG4uaW5uZXJUZXh0ID0gJ2RlbGV0ZSdcbiAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0JylcbiAgICAgICAgZGVsZXRlVGVjaG5vbG9neSh0ZWNoLmlkKVxuICAgICAgfSlcbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGVsZXRlQnRuKVxuICAgIH1cblxuXG4gIH0pXG5cbiAgY29uc3QgZGVsZXRlVGVjaCA9ICgpID0+IHtcblxuICB9XG5cblxuXG5cblxuXG4gIGNvbnN0IGZvcm0gPSBGb3JtKCdhZGQtdGVjaC1pY29uLWZvcm0nKVxuICBjb25zdCBuYW1lSW5wdXQgPSBJbnB1dCh7IGNsYXNzTmFtZTogJ25hbWUnLCBuYW1lOiAnbmFtZUlucHV0JywgdHlwZTogJ3RleHQnLCB2YWx1ZTogJycsIHBsYWNlaG9sZGVyOiAnbmV3IHRlY2hub2xvZ3knLCBoYW5kbGVDaGFuZ2UgfSlcbiAgY29uc3QgaW5wdXQgPSBJbnB1dCh7IGNsYXNzTmFtZTogJ3RlY2hJY29uSW5wdXQnLCBuYW1lOiAnaW5wdXQnLCB0eXBlOiAndGV4dCcsIHZhbHVlOiBuZXdJY29uVXJsLCBwbGFjZWhvbGRlcjogJ3RlY2gtaWNvbi11cmwnLCBoYW5kbGVDaGFuZ2U6IGhhbmRsZU5hbWVDaGFuZ2UgfSlcblxuXG4gIHRlY2hub2xvZ2llcy5hcHBlbmRDaGlsZChmb3JtKVxuICBjb25zdCBidXR0b24gPSBCdXR0b24oJ25ldy10ZWNoLWljb24tYnRuJywgJ3N1Ym1pdCcsICduZXcgaWNvbiB1cmwnKVxuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChlKSA9PiB7XG4gICAgY29uc29sZS5sb2cobmV3SWNvblVybClcblxuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBjcmVhdGUoZSwgeyBuYW1lOiBuYW1lLCBpY29uX3VybDogbmV3SWNvblVybCB9KVxuXG5cbiAgfSlcbiAgZm9ybS5hcHBlbmRDaGlsZChidXR0b24pXG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpXG4gIGZvcm0uYXBwZW5kQ2hpbGQobmFtZUlucHV0KVxuICByZXR1cm4gbWFpbkNvbnRlbnRTY3JvbGxhYmxlXG59XG5cbiIsIlxuZXhwb3J0IGNvbnN0IEJhc2VVcmwgPSAoKSA9PiB7XG5cbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICdodHRwczovL3BvcnRmb2xpby1taWNrLXNlcnZlci5oZXJva3VhcHAuY29tJyA6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnXG5cbn0iLCJpbXBvcnQgeyBCYXNlVXJsIH0gZnJvbSBcIi4vQmFzZVVybC5qc1wiXG5jb25zdCBiYXNlVXJsID0gQmFzZVVybCgpXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRIZWFkZXJzKGhlYWRlcnMpIHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5hdXRoVG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaGVhZGVycyxcbiAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtsb2NhbFN0b3JhZ2UuYXV0aFRva2VufWAsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBoZWFkZXJzXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNsZWFySGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLi4uaGVhZGVycyxcbiAgICBBdXRob3JpemF0aW9uOiBudWxsLFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzaWduVXAgPSBhc3luYyAoYm9keSkgPT4ge1xuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcblxuICBsZXQgcmVzID0gYXdhaXQgZmV0Y2goYmFzZVVybCArIFwiL3VzZXJzXCIsIHtcbiAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImF1dGhUb2tlblwiLCBkYXRhLnRva2VuKVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgY29uc29sZS5sb2coYm9keSlcbiAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKGJhc2VVcmwgKyBcIi9hdXRoL2xvZ2luXCIsIHtcbiAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG5cbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhdXRoVG9rZW5cIiwgZGF0YS50b2tlbilcblxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIGNvbnNvbGUubG9nKHJlcylcbiAgcmV0dXJuIHJlc1xufVxuXG5leHBvcnQgY29uc3QgdmVyaWZ5ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aFRva2VuXCIpXG4gIC8vIGNvbnNvbGUubG9nKHRva2VuKVxuICBpZiAodG9rZW4pIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChiYXNlVXJsICsgXCIvYXV0aC92ZXJpZnlcIiwge1xuICAgICAgbWV0aG9kOiBcImdldFwiLFxuICAgICAgaGVhZGVyczogc2V0SGVhZGVycyh7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgICB9KVxuXG4gICAgcmV0dXJuIHJlc1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlciA9IGFzeW5jICgpID0+IHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aFRva2VuXCIpKSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJoZXJlXCIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0aFRva2VuXCIpKVxuICAgIGxldCB1c2VyID0gYXdhaXQgdmVyaWZ5KClcbiAgICBjb25zb2xlLmxvZyh1c2VyKVxuICAgIGlmICghdXNlci5lcnJvcnMpIHtcbiAgICAgIC8vIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IFwibG9nb3V0XCJcbiAgICAgIC8vIGxvZ2dlZEluID0gdHJ1ZVxuICAgICAgcmV0dXJuIHVzZXJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gbG9naW5CdXR0b24uaW5uZXJUZXh0ID0gXCJsb2dpblwiXG5cbiAgICAvLyBsb2dnZWRJbiA9IGZhbHNlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc29sZS5sb2cobG9nZ2VkSW4pXG59XG5cbmV4cG9ydCBjb25zdCBsb2dvdXQgPSBhc3luYyAoKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYXV0aFRva2VuXCIpXG4gIGNsZWFySGVhZGVycyh7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0pXG4gIHJldHVybiBcImxvZ2dlZCBvdXRcIlxufVxuIiwiaW1wb3J0IHsgQmFzZVVybCB9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5cblxuZXhwb3J0IGxldCBnZXRUZWNobm9sb2dpZXMgPSBhc3luYyAoKSA9PiB7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vdGVjaG5vbG9naWVzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG5cbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0c1xufVxuXG5cbmV4cG9ydCBsZXQgY3JlYXRlVGVjaG5vbG9neSA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vdGVjaG5vbG9naWVzYCwge1xuICAgIG1ldGhvZDogYHBvc3RgLFxuICAgIGJvZHk6SlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSxcbiAgfSlcbiAgLnRoZW4oKHJlcyk9PntcbiAgICByZXR1cm4gcmVzLmpzb24oKVxuICB9KVxuICAudGhlbigoYW5zKT0+e1xuICAgIHJldHVybiBhbnNcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdHNcbn1cblxuXG5leHBvcnQgY29uc3QgdXBkYXRlVGVjaG5vbG9neSA9IGFzeW5jIChib2R5LCBpZCkgPT4ge1xuICBcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vdGVjaG5vbG9naWVzLyR7aWR9YCwge1xuICAgIG1ldGhvZDogYHB1dGAsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcblxufVxuXG5leHBvcnQgY29uc3QgZGVsZXRlVGVjaG5vbG9neSA9IGFzeW5jKGlkKSA9PiB7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS90ZWNobm9sb2dpZXMvJHtpZH1gLHtcbiAgICBtZXRob2Q6IGBkZWxldGVgLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfVxuICB9KVxuICAudGhlbihqc29uPT57XG4gICAgcmV0dXJuIGpzb25cbiAgfSlcbiAgLnRoZW4oZGF0YT0+e1xuICAgIHJldHVybiBkYXRhXG4gIH0pXG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=