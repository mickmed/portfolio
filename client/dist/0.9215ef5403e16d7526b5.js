(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{86:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var i=c(0);c(87);const a=(e,t,c,a)=>{let n=Object(i.c)("div","project-img"),o=Object(i.c)("div","img-wrapper");n.appendChild(o);let d=Object(i.c)("div","inner-img-wrap");if(o.appendChild(d),d.appendChild(Object(i.c)("img","img")).src=e,!0===c){let e=d.appendChild(Object(i.c)("div","modal"));e.classList.add("project-modal","modal-slide");e.appendChild(Object(i.c)("span","modal-span")),e.childNodes[0].appendChild(Object(i.c)("h2","project-title"));e.childNodes[0].childNodes[0].innerText=t,console.log(t),"NYC Trees"===t?(e.childNodes[0].childNodes[0].style.fontFamily="Maitree",e.childNodes[0].childNodes[0].style.fontFamily="Maitree"):"Mick's Math Mental"===t?(e.childNodes[0].childNodes[0].style.fontFamily="Vegan",e.childNodes[0].childNodes[0].style.color="rgb(203, 206, 45)"):"Scaled"===t&&(e.childNodes[0].childNodes[0].style.fontFamily="Vegan")}return n}},87:function(e,t,c){var i=c(1),a=c(88);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1},o=(i(a,n),a.locals?a.locals:{});e.exports=o},88:function(e,t,c){},89:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var i=c(4);const a=Object(i.a)();let n=async e=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e)},90:function(e,t,c){"use strict";c.d(t,"c",(function(){return n})),c.d(t,"a",(function(){return o})),c.d(t,"d",(function(){return d})),c.d(t,"b",(function(){return l}));var i=c(4);const a=Object(i.a)();let n=async()=>await fetch(`${a}/projects`).then(e=>e.json()).then(e=>e);const o=async e=>{console.log("ere"),console.log(JSON.stringify(e));const t=await fetch(`${a}/projects`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)},d=async(e,t)=>{console.log(JSON.stringify(e));await fetch(`${a}/projects/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},l=async e=>{const t=await fetch(`${a}/projects/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)}},93:function(e,t,c){"use strict";c.r(t),c.d(t,"Projects",(function(){return p}));var i=c(0),a=c(7),n=(c(89),c(86)),o=c(3),d=c(90),l=c(5),s=c(94);c(95);const r=e=>{for(;e.childNodes.length;)e.removeChild(e.lastChild)};async function p(){let e=Object(i.e)(".main-content-scrollable");r(e),e.appendChild(Object(i.c)("div","loading")).innerHTML="loading...";const t=await Object(d.c)();r(e);const c=e.clientWidth;if(t.forEach(async(t,o)=>{let r=e.appendChild(Object(i.c)("div","project-wrap")),h=r.appendChild(Object(n.a)(`src/img/${t.img_url}`,t.name,!0,t.site_url));console.log(h);let j="false",b=Object(i.c)("div","link-modal"),u=Object(i.f)(".img-wrapper"),m=Object(i.f)(".inner-img-wrap"),f=Object(i.c)("div","tech-icons");t.technologies.forEach(e=>{f.appendChild(Object(i.c)("img","tech-icon")).src=`src/img/${e.icon_url}`});let g=Object(i.c)("div","description");if(g.innerHTML=t.description,c<900?(b.appendChild(f),b.appendChild(g)):(b.appendChild(g),b.appendChild(f)),b.appendChild(Object(i.c)("div","link-modal-icons")).innerHTML=`<div><a href=${t.site_url} target='_blank'><i class="fas fa-home fa-fw"></i></a>\n    <p class='home-tool-tip'>website</p></div>\n\n    <div><a href=${t.github_url} target='_blank'><i class="fab fa-github"></i></a>\n    <p class='github-tool-tip'>github</p></div>`,console.log(m[0].children[1]),u[o].addEventListener("click",async()=>{if("true"===j)j="false",m[o].classList.add("close-curtain"),m[o].classList.remove("open-curtain"),u[o].lastChild.remove(),u[o].style.width="80%",u[o].style.padding="6%",u[o].style.margin="0",r.style.margin="0 10% 3% 10%",m[o].style.width="100%",r.classList.remove("project-wrap-click"),h.lastChild.remove();else if("false"===j){j="true",m[o].classList.add("open-curtain"),m[o].classList.remove("close-curtain"),u[o].appendChild(b),c<900?(u[o].style.flexDirection="column",b.style.width="90%",f.style.width="80%",b.style.marginTop="5%",b.style.background="rgb(240, 253, 253)"):(u[o].style.width="90%",u[o].style.padding="2%",u[o].style.margin="0 auto",r.style.margin="0 1%",m[o].style.width="99%",m[o].style.height="99%"),h.appendChild(f),console.log(h),u[o].style.setProperty("--animation","animate-img-wrapper 1.5s linear forwards"),r.classList.add("project-wrap-click")}}),await Object(a.d)()){const e=Object(i.c)("div","edit-project-wrapper"),c=Object(l.a)("show-edit-button","submit","update");c.addEventListener("click",()=>{console.log(r.lastChild.className),"edit-project-form"!==r.lastChild.className?Object(s.EditProject)(r,t):r.lastChild.remove()}),e.appendChild(c);const a=Object(l.a)("delete-project","submit","delete");a.addEventListener("click",async()=>{let e=confirm(`Are you sure you want to delete ${t.name}?`);e&&await Object(d.b)(t.id),e&&await p()}),e.appendChild(a),r.appendChild(e)}}),await Object(a.d)()){let c=Object(l.a)("show-add-form","submit","add project");c.addEventListener("click",()=>{console.log(e.lastChild.className),"show-add-form"===e.lastChild.className?Object(s.EditProject)(e,t[0],"addProject"):e.lastChild.remove()}),Object(i.b)(e,c)}e.appendChild(Object(o.a)())}},94:function(e,t,c){"use strict";c.r(t),c.d(t,"EditProject",(function(){return l}));var i=c(5),a=c(89),n=c(90),o=c(93),d=c(0);const l=async(e,t,c)=>{if(console.log("add",c),"addProject"===c)for(let e in t)t[e]="";let l={},s=e=>{console.log(e.target.name),l[e.target.name]=e.target.value},r=Object(i.c)("edit-project-form"),p=Object(d.c)("div","edit-form-inputs");r.appendChild(p),Object.keys(t).forEach(e=>{if("id"!==e&&"technologies"!==e&&"created_at"!==e&&"updated_at"!==e){l[e]=t[e];const a=Object(i.d)({className:"edit-form-input",name:e,type:"text",value:"addProject"===c?"":l[e],placeholder:e,handleChange:s});p.appendChild(a)}});const h=Object(d.c)("div","edit-form-checkboxes");r.appendChild(h),(await Object(a.a)()).map(e=>{let a;void 0===c&&t.technologies.forEach(t=>{e.name===t.name&&(console.log(e.name,t.name),a="checked")});let n=Object(i.b)({className:"edit-project-chkbox",name:e.name,id:e.name,value:e.id,checked:"addProject"===c?"":a});h.appendChild(n),h.appendChild(Object(i.e)("tech-box-label",e.name,"tech-box"))}),r.appendChild(Object(i.a)("edit-project-button","submit","addProject"===c?"add new project":"submit")),Object(d.b)(e,r),r.addEventListener("submit",async e=>{e.preventDefault(),console.log("add",c);const i=document.querySelectorAll("input[type=checkbox]:checked");console.log(i),l.technologies=[],i.forEach(e=>{l.technologies.push(e.value)}),console.log("add",l),"addProject"===c?await Object(n.a)(l):await Object(n.d)(l,t.id),await Object(o.Projects)()})}},95:function(e,t,c){var i=c(1),a=c(96);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1},o=(i(a,n),a.locals?a.locals:{});e.exports=o},96:function(e,t,c){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaGFyZWQvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL2ltYWdlLnNjc3M/NDQ2MSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvRWRpdFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvcHJvamVjdHMuc2NzcyJdLCJuYW1lcyI6WyJJbWFnZSIsInNyYyIsInRpdGxlIiwibW9kYWwiLCJzaXRlX3VybCIsInByb2plY3RJbWciLCJpbWdXcmFwcGVyIiwiYXBwZW5kQ2hpbGQiLCJkaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJjaGlsZE5vZGVzIiwiaW5uZXJUZXh0IiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwiZm9udEZhbWlseSIsImNvbG9yIiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJiYXNlVXJsIiwiZ2V0VGVjaG5vbG9naWVzIiwiYXN5bmMiLCJ0eXBlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImFucyIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibWV0aG9kIiwiaGVhZGVycyIsImRhdGEiLCJ1cGRhdGVQcm9qZWN0IiwiaWQiLCJkZWxldGVQcm9qZWN0IiwiY2xlYXJQYWdlIiwiZWxlbWVudCIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiUHJvamVjdHMiLCJtYWluQ29udGVudCIsImlubmVySFRNTCIsInJlc3AiLCJjb250YWluZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiZm9yRWFjaCIsInByb2plY3QiLCJpbmRleCIsInByb2plY3RXcmFwIiwiaW1hZ2UiLCJpbWdfdXJsIiwibmFtZSIsImJvb2wiLCJsaW5rTW9kYWwiLCJpbm5lckltZ1dyYXAiLCJ0ZWNoSWNvbnMiLCJ0ZWNobm9sb2dpZXMiLCJpY29uIiwiaWNvbl91cmwiLCJkZXNjcmlwdGlvbiIsImdpdGh1Yl91cmwiLCJjaGlsZHJlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJ3aWR0aCIsInBhZGRpbmciLCJtYXJnaW4iLCJmbGV4RGlyZWN0aW9uIiwibWFyZ2luVG9wIiwiYmFja2dyb3VuZCIsImhlaWdodCIsInNldFByb3BlcnR5IiwiZWRpdFByb2plY3RXcmFwcGVyIiwiZWRpdEJ1dHRvbiIsImNsYXNzTmFtZSIsImRlbGV0ZUJ1dHRvbiIsImFuc3dlciIsImNvbmZpcm0iLCJhZGRCdG4iLCJFZGl0UHJvamVjdCIsIml0ZW0iLCJuZXdQcm9qZWN0IiwiaGFuZGxlQ2hhbmdlIiwiZSIsInRhcmdldCIsInZhbHVlIiwiZm9ybSIsImlucHV0cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwiY2hlY2tzIiwibWFwIiwidGVjaG5vbG9neSIsImNoZWNrZWQiLCJ1bmRlZmluZWQiLCJwcm9qZWN0VGVjaG5vbG9neSIsImJ4IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJjaGVja2JveGVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYm94IiwicHVzaCJdLCJtYXBwaW5ncyI6InlGQUFBLG1EQUVPLE1BQU1BLEVBQVEsQ0FBQ0MsRUFBS0MsRUFBT0MsRUFBT0MsS0FFdkMsSUFBSUMsRUFBYSxZQUFLLE1BQU8sZUFFekJDLEVBQWEsWUFBSyxNQUFPLGVBQzdCRCxFQUFXRSxZQUFZRCxHQUN2QixJQUFJ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LElBSUMsaUJBRnZCQSxFQUFVQSxFQUFRQyxXQUFhRCxFQUFRRSxRQUFVRixLQUcvQ0EsRUFBVSxDQUFDLENBQUNHLEVBQU9DLEVBQUlKLEVBQVMsTUFHOUMsSUFBSUssRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBSWhCQyxHQUZTUCxFQUFJQyxFQUFTSyxHQUVYTCxFQUFRTyxPQUFTUCxFQUFRTyxPQUFTLElBSWpESixFQUFPSyxRQUFVRixHIiwiZmlsZSI6IjAuOTIxNWVmNTQwM2UxNmQ3NTI2YjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjZWNsLCBxcyB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG5pbXBvcnQgXCIuL2ltYWdlLnNjc3NcIlxuZXhwb3J0IGNvbnN0IEltYWdlID0gKHNyYywgdGl0bGUsIG1vZGFsLCBzaXRlX3VybCkgPT4ge1xuICAvLyBjb25zb2xlLmxvZyhzcmMpXG4gIGxldCBwcm9qZWN0SW1nID0gY2VjbChcImRpdlwiLCBcInByb2plY3QtaW1nXCIpXG5cbiAgbGV0IGltZ1dyYXBwZXIgPSBjZWNsKFwiZGl2XCIsIFwiaW1nLXdyYXBwZXJcIilcbiAgcHJvamVjdEltZy5hcHBlbmRDaGlsZChpbWdXcmFwcGVyKVxuICBsZXQgZGl2ID0gY2VjbChcImRpdlwiLCBcImlubmVyLWltZy13cmFwXCIpXG4gIGltZ1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGl2KVxuXG5cbiAgbGV0IGltZyA9IGRpdi5hcHBlbmRDaGlsZChjZWNsKFwiaW1nXCIsIFwiaW1nXCIpKVxuICBpbWcuc3JjID0gc3JjXG5cblxuICBpZiAobW9kYWwgPT09IHRydWUpIHtcbiAgICBsZXQgbW9kYWwgPSBkaXYuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcIm1vZGFsXCIpKVxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LW1vZGFsXCIsIFwibW9kYWwtc2xpZGVcIilcbiAgICBsZXQgbW9kYWxTcGFuID0gbW9kYWwuYXBwZW5kQ2hpbGQoY2VjbChcInNwYW5cIiwgXCJtb2RhbC1zcGFuXCIpKVxuICAgIGxldCBoMiA9IG1vZGFsLmNoaWxkTm9kZXNbMF0uYXBwZW5kQ2hpbGQoY2VjbChcImgyXCIsIFwicHJvamVjdC10aXRsZVwiKSlcbiAgICBtb2RhbC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gdGl0bGVcblxuICAgIGNvbnNvbGUubG9nKHRpdGxlKVxuICAgIGlmICh0aXRsZSA9PT0gJ05ZQyBUcmVlcycpIHtcbiAgICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5zdHlsZS5mb250RmFtaWx5ID0gXCJNYWl0cmVlXCJcbiAgICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5zdHlsZS5mb250RmFtaWx5ID0gXCJNYWl0cmVlXCJcblxuICAgIH0gZWxzZSBpZiAodGl0bGUgPT09ICdNaWNrXFwncyBNYXRoIE1lbnRhbCcpIHtcbiAgICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5zdHlsZS5mb250RmFtaWx5ID0gXCJWZWdhblwiXG5cbiAgICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5zdHlsZS5jb2xvciA9ICdyZ2IoMjAzLCAyMDYsIDQ1KSdcbiAgICB9ZWxzZSBpZiAodGl0bGUgPT09ICdTY2FsZWQnKXtcbiAgICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5zdHlsZS5mb250RmFtaWx5ID0gXCJWZWdhblwiXG5cbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcInByb2plY3R0aXRsZVwiLCBoMilcbiAgICAvLyBpZiAoaW1nLmhlaWdodCA+IGltZy53aWR0aCkge1xuICAgIC8vICAgbW9kYWxTcGFuLnN0eWxlLnRyYW5zZm9ybSA9IFwic2tldygtMTBkZWcpIHRyYW5zbGF0ZVgoLTMwJSlcIlxuICAgIC8vICAgbW9kYWxTcGFuLnN0eWxlLndpZHRoID0gJzYwJSdcbiAgICAvLyAgIGgyLnN0eWxlLnRyYW5zZm9ybSA9IFwic2tldygxMGRlZykgdHJhbnNsYXRlKDElKVwiXG4gICAgLy8gICBjb25zb2xlLmxvZyh3aW5kb3cuaW5uZXJXaWR0aClcbiAgICAvLyAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKT0+e1xuICAgIC8vICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gNjAwKXtcbiAgICAvLyAgICAgaW1nV3JhcHBlci5zdHlsZS53aWR0aCA9ICc0MCUnXG4gICAgLy8gICB9ZWxzZXtcbiAgICAvLyAgICAgaW1nV3JhcHBlci5zdHlsZS53aWR0aCA9ICc3MCUnXG4gICAgLy8gICB9XG4gICAgLy8gICB9KVxuXG4gICAgLy8gICAvLyBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzQwJSdcbiAgICAvLyAgIC8vIGgyLnN0eWxlLlxuICAgIC8vIH1cblxuXG5cblxuICAgIC8vIGxpbmtNb2RhbE1vcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIGV2dCA9PiB7XG4gICAgLy8gICBsZXQgcmVzID0gYXdhaXQgc2hvd1NpbmdsZUl0ZW1tKGV2dCwgZSwgXCJwcm9qZWN0c1wiKTtcblxuICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRlbnRcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAvLyAgIG5hdmJhcih7IHByb2plY3Q6IGUgfSk7XG4gICAgLy8gICBwcm9qZWN0cyhcInByb2plY3RcIiwge1xuICAgIC8vICAgICBwcm9qZWN0OiBlLFxuICAgIC8vICAgICB0ZWNobm9sb2dpZXM6IHJlcy50ZWNobm9sb2dpZXMsXG4gICAgLy8gICAgIHRyYWl0czogcmVzLnRyYWl0c1xuICAgIC8vICAgfSk7XG4gICAgLy8gICB0ZWNobm9sb2dpZXMoXCJ0ZWNobm9sb2dpZXNcIiwgeyB0ZWNobm9sb2dpZXM6IHJlcy50ZWNobm9sb2dpZXMgfSk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyBsZXQgbGlua01vZGFsU2l0ZUJ0biA9IG1ha2VFbGVtZW50KFwiYnV0dG9uXCIsIFwic2l0ZS1idXR0b25cIiwgbGlua01vZGFsLCB7XG4gICAgLy8gICBpbm5lclRleHQ6IFwidmlzaXQgc2l0ZVwiXG4gICAgLy8gfSk7XG4gICAgLy8gbGlua01vZGFsU2l0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcbiAgICAvLyAgIGxvY2F0aW9uLmhyZWYgPSBlLnNpdGVfdXJsO1xuICAgIC8vICAgdGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHJldHVybiBwcm9qZWN0SW1nXG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbWFnZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsImltcG9ydCB7IEJhc2VVcmwgfSBmcm9tICcuL0Jhc2VVcmwuanMnXG5jb25zdCBiYXNlVXJsID0gQmFzZVVybCgpXG5cblxuXG5cbmV4cG9ydCBsZXQgZ2V0VGVjaG5vbG9naWVzID0gYXN5bmMgKHR5cGUpID0+IHtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS90ZWNobm9sb2dpZXNgKVxuICAgIC50aGVuKChyZXMpID0+IHtcblxuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChhbnMpID0+IHtcbiAgICAgIHJldHVybiBhbnNcbiAgICB9KVxuXG4gIHJldHVybiB0eXBlLCByZXN1bHRzXG59IiwiaW1wb3J0IHsgQmFzZVVybCB9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5leHBvcnQgbGV0IGdldFByb2plY3RzID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG5cbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0c1xufVxuXG5leHBvcnQgbGV0IGdldFByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzLyR7aWR9YClcbiAgICAudGhlbigocmVzKSA9PiB7XG5cbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG5cblxuXG5leHBvcnQgY29uc3QgYWRkUHJvamVjdCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdlcmUnKVxuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHNgLCB7XG4gICAgbWV0aG9kOiBgcG9zdGAsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxufVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0ID0gYXN5bmMgKGJvZHksIGlkKSA9PiB7XG4gIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6IGBwdXRgLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG5cbn1cbi8vXG5leHBvcnQgY29uc3QgZGVsZXRlUHJvamVjdCA9IGFzeW5jIChpZCkgPT4ge1xuXG5cblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6IGBkZWxldGVgLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxufVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0VGVjaG5vbG9naWVzID0gYXN5bmMgKHByb2plY3RfaWQsIGlkKSA9PiB7XG4gIGNvbnNvbGUubG9nKCd1cHQnKVxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke3Byb2plY3RfaWR9L3RlY2hub2xvZ2llcy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6IGBwdXRgLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxuXG59IiwiLy8gaW1wb3J0IFwiLi4vU2hhcmVkL0ltYWdlXCJcbmltcG9ydCB7IHFzLCBxc2EsIGNlY2wsIGFjLCBidG4gfSBmcm9tIFwiLi4vSGVscGVycy9kb21IZWxwZXJcIlxuaW1wb3J0IHsgdmVyaWZ5IH0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaUF1dGguanNcIlxuaW1wb3J0IHsgZ2V0VGVjaG5vbG9naWVzIH0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVRlY2guanNcIlxuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tIFwiLi4vU2hhcmVkL0ltYWdlLmpzXCJcbmltcG9ydCB7IEZvb3RlciB9IGZyb20gXCIuLi9Gb290ZXIvRm9vdGVyLmpzXCJcblxuXG5pbXBvcnQge1xuICBnZXRQcm9qZWN0cyxcbiAgYWRkUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdCxcbiAgZGVsZXRlUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVByb2plY3QuanNcIlxuaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiwgQ2hlY2tib3gsIExhYmVsIH0gZnJvbSBcIi4uL1NoYXJlZC9Gb3JtLmpzXCJcbmltcG9ydCB7IEVkaXRQcm9qZWN0IH0gZnJvbSBcIi4vRWRpdFByb2plY3RcIlxuaW1wb3J0IFwiLi9wcm9qZWN0cy5zY3NzXCJcblxuLyoqKioqKioqKipcbiBDTEVBUiBQQUdFXG4qKioqKioqKioqKi9cbmNvbnN0IGNsZWFyUGFnZSA9IChlbGVtZW50KSA9PiB7XG4gIHdoaWxlIChlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Lmxhc3RDaGlsZClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUHJvamVjdHMoKSB7XG4gIGxldCBtYWluQ29udGVudCA9IHFzKFwiLm1haW4tY29udGVudC1zY3JvbGxhYmxlXCIpXG4gIGNsZWFyUGFnZShtYWluQ29udGVudClcbiAgbGV0IGxvYWRpbmcgPSBtYWluQ29udGVudC5hcHBlbmRDaGlsZChjZWNsKFwiZGl2XCIsIFwibG9hZGluZ1wiKSlcbiAgbG9hZGluZy5pbm5lckhUTUwgPSBcImxvYWRpbmcuLi5cIlxuXG5cbiAgLyoqKioqKioqKioqKioqXG4gIFJFTkRFUiBQUk9KRUNUU1xuICAqKioqKioqKioqKioqKiovXG4gIGNvbnN0IHJlc3AgPSBhd2FpdCBnZXRQcm9qZWN0cygpXG4gIGNsZWFyUGFnZShtYWluQ29udGVudClcblxuXG4gIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gbWFpbkNvbnRlbnQuY2xpZW50V2lkdGhcblxuICByZXNwLmZvckVhY2goYXN5bmMgKHByb2plY3QsIGluZGV4KSA9PiB7XG4gICAgbGV0IHByb2plY3RXcmFwID0gbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcInByb2plY3Qtd3JhcFwiKSlcbiAgICBsZXQgaW1hZ2UgPSBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChcbiAgICAgIEltYWdlKGBzcmMvaW1nLyR7cHJvamVjdC5pbWdfdXJsfWAsIHByb2plY3QubmFtZSwgdHJ1ZSwgcHJvamVjdC5zaXRlX3VybClcbiAgICApXG4gICAgY29uc29sZS5sb2coaW1hZ2UpXG4gICAgbGV0IGJvb2wgPSBcImZhbHNlXCJcbiAgICBsZXQgbGlua01vZGFsID0gY2VjbChcImRpdlwiLCBcImxpbmstbW9kYWxcIilcblxuICAgIGxldCBpbWdXcmFwcGVyID0gcXNhKFwiLmltZy13cmFwcGVyXCIpXG4gICAgbGV0IGlubmVySW1nV3JhcCA9IHFzYShcIi5pbm5lci1pbWctd3JhcFwiKVxuICAgIGxldCB0ZWNoSWNvbnMgPSBjZWNsKFwiZGl2XCIsIFwidGVjaC1pY29uc1wiKVxuICAgIHByb2plY3QudGVjaG5vbG9naWVzLmZvckVhY2goKGljb24pID0+IHtcbiAgICAgIGxldCB0ZWNoSWNvbiA9IHRlY2hJY29ucy5hcHBlbmRDaGlsZChjZWNsKFwiaW1nXCIsIFwidGVjaC1pY29uXCIpKVxuICAgICAgdGVjaEljb24uc3JjID0gYHNyYy9pbWcvJHtpY29uLmljb25fdXJsfWBcbiAgICB9KVxuICAgIGxldCBkZXNjcmlwdGlvbiA9IGNlY2woJ2RpdicsICdkZXNjcmlwdGlvbicpXG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gcHJvamVjdC5kZXNjcmlwdGlvblxuXG4gICAgaWYgKGNvbnRhaW5lcldpZHRoIDwgOTAwKSB7XG4gICAgICBsaW5rTW9kYWwuYXBwZW5kQ2hpbGQodGVjaEljb25zKVxuXG4gICAgICBsaW5rTW9kYWwuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBsaW5rTW9kYWwuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pXG4gICAgICBsaW5rTW9kYWwuYXBwZW5kQ2hpbGQodGVjaEljb25zKVxuXG4gICAgfVxuXG5cblxuICAgIGxldCBsaW5rTW9kYWxJY29ucyA9IGxpbmtNb2RhbC5hcHBlbmRDaGlsZChjZWNsKCdkaXYnLCAnbGluay1tb2RhbC1pY29ucycpKVxuXG5cbiAgICBsaW5rTW9kYWxJY29ucy5pbm5lckhUTUwgPVxuICAgICAgYDxkaXY+PGEgaHJlZj0ke3Byb2plY3Quc2l0ZV91cmx9IHRhcmdldD0nX2JsYW5rJz48aSBjbGFzcz1cImZhcyBmYS1ob21lIGZhLWZ3XCI+PC9pPjwvYT5cbiAgICA8cCBjbGFzcz0naG9tZS10b29sLXRpcCc+d2Vic2l0ZTwvcD48L2Rpdj5cblxuICAgIDxkaXY+PGEgaHJlZj0ke3Byb2plY3QuZ2l0aHViX3VybH0gdGFyZ2V0PSdfYmxhbmsnPjxpIGNsYXNzPVwiZmFiIGZhLWdpdGh1YlwiPjwvaT48L2E+XG4gICAgPHAgY2xhc3M9J2dpdGh1Yi10b29sLXRpcCc+Z2l0aHViPC9wPjwvZGl2PmBcblxuXG4gICAgY29uc29sZS5sb2coaW5uZXJJbWdXcmFwWzBdLmNoaWxkcmVuWzFdKVxuXG5cblxuXG5cblxuICAgIC8qKioqKioqKioqKioqKlxuICAgIEFERCBMSU5LIE1PREFMXG4gICAgKioqKioqKioqKioqKioqL1xuICAgIGltZ1dyYXBwZXJbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoYm9vbCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgYm9vbCA9IFwiZmFsc2VcIlxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJjbG9zZS1jdXJ0YWluXCIpXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tY3VydGFpblwiKVxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5sYXN0Q2hpbGQucmVtb3ZlKClcblxuXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLnN0eWxlLndpZHRoID0gJzgwJSdcbiAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUucGFkZGluZyA9ICc2JSdcbiAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUubWFyZ2luID0gJzAnXG5cbiAgICAgICAgcHJvamVjdFdyYXAuc3R5bGUubWFyZ2luID0gJzAgMTAlIDMlIDEwJSdcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5zdHlsZS53aWR0aCA9ICcxMDAlJ1xuXG4gICAgICAgIHByb2plY3RXcmFwLmNsYXNzTGlzdC5yZW1vdmUoXCJwcm9qZWN0LXdyYXAtY2xpY2tcIilcblxuICAgICAgICBpbWFnZS5sYXN0Q2hpbGQucmVtb3ZlKClcblxuICAgICAgICAvLyBpbm5lckltZ1dyYXBbaW5kZXhdLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuXG4gICAgICB9IGVsc2UgaWYgKGJvb2wgPT09IFwiZmFsc2VcIikge1xuICAgICAgICBib29sID0gXCJ0cnVlXCJcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QuYWRkKFwib3Blbi1jdXJ0YWluXCIpXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShcImNsb3NlLWN1cnRhaW5cIilcbiAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uYXBwZW5kQ2hpbGQobGlua01vZGFsKVxuXG5cblxuICAgICAgICBpZiAoY29udGFpbmVyV2lkdGggPCA5MDApIHtcbiAgICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ2NvbHVtbidcbiAgICAgICAgICBsaW5rTW9kYWwuc3R5bGUud2lkdGggPSAnOTAlJ1xuICAgICAgICAgIHRlY2hJY29ucy5zdHlsZS53aWR0aCA9ICc4MCUnXG4gICAgICAgICAgbGlua01vZGFsLnN0eWxlLm1hcmdpblRvcCA9ICc1JSdcbiAgICAgICAgICBsaW5rTW9kYWwuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2IoMjQwLCAyNTMsIDI1MyknXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS53aWR0aCA9ICc5MCUnXG4gICAgICAgICAgaW1nV3JhcHBlcltpbmRleF0uc3R5bGUucGFkZGluZyA9ICcyJSdcbiAgICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZS5tYXJnaW4gPSAnMCBhdXRvJ1xuICAgICAgICAgIHByb2plY3RXcmFwLnN0eWxlLm1hcmdpbiA9ICcwIDElJ1xuXG4gICAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5zdHlsZS53aWR0aCA9ICc5OSUnXG4gICAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5zdHlsZS5oZWlnaHQgPSAnOTklJ1xuICAgICAgICAgIC8vIFxuICAgICAgICB9XG5cblxuXG5cblxuICAgICAgICBpbWFnZS5hcHBlbmRDaGlsZCh0ZWNoSWNvbnMpXG4gICAgICAgIGNvbnNvbGUubG9nKGltYWdlKVxuXG4gICAgICAgIGxldCBpdyA9IGltZ1dyYXBwZXJbaW5kZXhdLnN0eWxlXG4gICAgICAgIGl3LnNldFByb3BlcnR5KFxuICAgICAgICAgIFwiLS1hbmltYXRpb25cIixcbiAgICAgICAgICBcImFuaW1hdGUtaW1nLXdyYXBwZXIgMS41cyBsaW5lYXIgZm9yd2FyZHNcIlxuICAgICAgICApXG4gICAgICAgIHByb2plY3RXcmFwLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXdyYXAtY2xpY2tcIilcblxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvKioqKioqKioqKioqKioqKioqKlxuICAgICBFRElUIFBST0pFQ1QgQlVUVE9OXG4gICAgKioqKioqKioqKioqKioqKioqKiovXG4gICAgaWYgKGF3YWl0IHZlcmlmeSgpKSB7XG4gICAgICBjb25zdCBlZGl0UHJvamVjdFdyYXBwZXIgPSBjZWNsKFwiZGl2XCIsIFwiZWRpdC1wcm9qZWN0LXdyYXBwZXJcIilcbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBCdXR0b24oXCJzaG93LWVkaXQtYnV0dG9uXCIsIFwic3VibWl0XCIsIFwidXBkYXRlXCIpXG4gICAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RXcmFwLmxhc3RDaGlsZC5jbGFzc05hbWUpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9qZWN0V3JhcC5sYXN0Q2hpbGQuY2xhc3NOYW1lICE9PSBcImVkaXQtcHJvamVjdC1mb3JtXCJcbiAgICAgICAgKVxuICAgICAgICAgIEVkaXRQcm9qZWN0KHByb2plY3RXcmFwLCBwcm9qZWN0KVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBwcm9qZWN0V3JhcC5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGVkaXRQcm9qZWN0V3JhcHBlci5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKVxuXG4gICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgREVMRVRFIFBST0pFQ1QgQlVUVE9OXG4gICAgICAqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBCdXR0b24oXCJkZWxldGUtcHJvamVjdFwiLCBcInN1Ym1pdFwiLCBcImRlbGV0ZVwiKVxuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCBhbnN3ZXIgPSBjb25maXJtKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICR7cHJvamVjdC5uYW1lfT9gKVxuICAgICAgICBhbnN3ZXIgJiYgYXdhaXQgZGVsZXRlUHJvamVjdChwcm9qZWN0LmlkKVxuICAgICAgICBhbnN3ZXIgJiYgYXdhaXQgUHJvamVjdHMoKVxuICAgICAgfSlcbiAgICAgIGVkaXRQcm9qZWN0V3JhcHBlci5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pXG5cbiAgICAgIHByb2plY3RXcmFwLmFwcGVuZENoaWxkKGVkaXRQcm9qZWN0V3JhcHBlcilcbiAgICB9XG4gIH0pXG5cbiAgLyoqKioqKioqKioqXG4gIEFERCBQUk9KRUNUIFxuICAqKioqKioqKioqKiovXG4gIGlmIChhd2FpdCB2ZXJpZnkoKSkge1xuICAgIGxldCBhZGRCdG4gPSBCdXR0b24oXCJzaG93LWFkZC1mb3JtXCIsIFwic3VibWl0XCIsIFwiYWRkIHByb2plY3RcIilcbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKG1haW5Db250ZW50Lmxhc3RDaGlsZC5jbGFzc05hbWUpXG4gICAgICBpZiAobWFpbkNvbnRlbnQubGFzdENoaWxkLmNsYXNzTmFtZSA9PT0gXCJzaG93LWFkZC1mb3JtXCIpXG4gICAgICAgIEVkaXRQcm9qZWN0KG1haW5Db250ZW50LCByZXNwWzBdLCBcImFkZFByb2plY3RcIilcbiAgICAgIGVsc2Uge1xuICAgICAgICBtYWluQ29udGVudC5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgYWMobWFpbkNvbnRlbnQsIGFkZEJ0bilcbiAgfVxuXG4gIC8vIC8vZG93biBidXR0b25cblxuICAvLyBjb25zdCBzZWVNb3JlQnRuID0gQnV0dG9uKCdzZWUtbW9yZS1idG4nLCAnc3VibWl0JywgJ3NlZSBtb3JlJylcblxuICAvLyBhYyhtYWluQ29udGVudCwgc2VlTW9yZUJ0bilcblxuICBtYWluQ29udGVudC5hcHBlbmRDaGlsZChGb290ZXIoKSlcblxuXG59XG4iLCJpbXBvcnQgeyBGb3JtLCBJbnB1dCwgQnV0dG9uLCBDaGVja2JveCwgTGFiZWwgfSBmcm9tIFwiLi4vU2hhcmVkL0Zvcm0uanNcIlxuaW1wb3J0IHsgZ2V0VGVjaG5vbG9naWVzIH0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVRlY2guanNcIlxuaW1wb3J0IHtcbiAgZ2V0UHJvamVjdCxcbiAgYWRkUHJvamVjdCBhcyBhZGROZXdQcm9qZWN0LFxuICB1cGRhdGVQcm9qZWN0LFxuICBkZWxldGVQcm9qZWN0LFxuICB1cGRhdGVQcm9qZWN0VGVjaG5vbG9naWVzLFxufSBmcm9tIFwiLi4vU2VydmljZXMvQXBpUHJvamVjdC5qc1wiXG5pbXBvcnQgeyBQcm9qZWN0cyB9IGZyb20gXCIuL1Byb2plY3RzLmpzXCJcbmltcG9ydCB7IGFjLCBjZWNsIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyLmpzXCJcblxuZXhwb3J0IGNvbnN0IEVkaXRQcm9qZWN0ID0gYXN5bmMgKHByb2plY3RXcmFwLCBwcm9qZWN0LCBhZGRQcm9qZWN0KSA9PiB7XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKipcbiAgTUFLRSBBTkQgU0VUIEZPUk0gIElOUFVUU1xuICAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBjb25zb2xlLmxvZyhcImFkZFwiLCBhZGRQcm9qZWN0KVxuICBpZiAoYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIpIHtcbiAgICBmb3IgKGxldCBpdGVtIGluIHByb2plY3QpIHtcbiAgICAgIHByb2plY3RbaXRlbV0gPSBcIlwiXG4gICAgfVxuICB9XG4gIGxldCBuZXdQcm9qZWN0ID0ge31cbiAgbGV0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc29sZS5sb2coZS50YXJnZXQubmFtZSlcbiAgICBuZXdQcm9qZWN0W2UudGFyZ2V0Lm5hbWVdID0gZS50YXJnZXQudmFsdWVcbiAgfVxuICBsZXQgZm9ybSA9IEZvcm0oXCJlZGl0LXByb2plY3QtZm9ybVwiKVxuICBsZXQgaW5wdXRzID0gY2VjbCgnZGl2JywgJ2VkaXQtZm9ybS1pbnB1dHMnKVxuICBmb3JtLmFwcGVuZENoaWxkKGlucHV0cylcbiAgT2JqZWN0LmtleXMocHJvamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKFxuICAgICAga2V5ICE9PSBcImlkXCIgJiZcbiAgICAgIGtleSAhPT0gXCJ0ZWNobm9sb2dpZXNcIiAmJlxuICAgICAga2V5ICE9PSBcImNyZWF0ZWRfYXRcIiAmJlxuICAgICAga2V5ICE9PSBcInVwZGF0ZWRfYXRcIlxuICAgICkge1xuICAgICAgbmV3UHJvamVjdFtrZXldID0gcHJvamVjdFtrZXldXG4gICAgICBjb25zdCBpbnB1dCA9IElucHV0KHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImVkaXQtZm9ybS1pbnB1dFwiLFxuICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICB2YWx1ZTogYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIgPyBcIlwiIDogbmV3UHJvamVjdFtrZXldLFxuICAgICAgICBwbGFjZWhvbGRlcjoga2V5LFxuICAgICAgICBoYW5kbGVDaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIH0pXG4gICAgICBpbnB1dHMuYXBwZW5kQ2hpbGQoaW5wdXQpXG4gICAgfVxuICB9KVxuXG4gIC8qKioqKioqKioqKioqKlxuICAgU0VUIENIRUNLQk9YRVNcbiAgKioqKioqKioqKioqKioqL1xuICBjb25zdCBjaGVja3MgPSBjZWNsKCdkaXYnLCAnZWRpdC1mb3JtLWNoZWNrYm94ZXMnKVxuICBmb3JtLmFwcGVuZENoaWxkKGNoZWNrcylcbiAgbGV0IHRlY2hub2xvZ2llcyA9IGF3YWl0IGdldFRlY2hub2xvZ2llcygpXG4gIHRlY2hub2xvZ2llcy5tYXAoKHRlY2hub2xvZ3kpID0+IHtcblxuICAgIGxldCBjaGVja2VkXG4gICAgYWRkUHJvamVjdCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBwcm9qZWN0LnRlY2hub2xvZ2llcy5mb3JFYWNoKChwcm9qZWN0VGVjaG5vbG9neSkgPT4ge1xuICAgICAgICBpZiAodGVjaG5vbG9neS5uYW1lID09PSBwcm9qZWN0VGVjaG5vbG9neS5uYW1lKSB7XG4gICAgICAgICAgY29uc29sZS5sb2codGVjaG5vbG9neS5uYW1lLCBwcm9qZWN0VGVjaG5vbG9neS5uYW1lKVxuICAgICAgICAgIGNoZWNrZWQgPSBcImNoZWNrZWRcIlxuICAgICAgICB9XG4gICAgICB9KVxuICAgIGxldCBieCA9IENoZWNrYm94KHtcbiAgICAgIGNsYXNzTmFtZTogXCJlZGl0LXByb2plY3QtY2hrYm94XCIsXG4gICAgICBuYW1lOiB0ZWNobm9sb2d5Lm5hbWUsXG4gICAgICBpZDogdGVjaG5vbG9neS5uYW1lLFxuICAgICAgdmFsdWU6IHRlY2hub2xvZ3kuaWQsXG4gICAgICBjaGVja2VkOiBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiXCIgOiBjaGVja2VkLFxuXG4gICAgfSlcbiAgICBjaGVja3MuYXBwZW5kQ2hpbGQoYngpXG4gICAgY2hlY2tzLmFwcGVuZENoaWxkKExhYmVsKFwidGVjaC1ib3gtbGFiZWxcIiwgdGVjaG5vbG9neS5uYW1lLCBcInRlY2gtYm94XCIpKVxuXG4gIH0pXG4gIGZvcm0uYXBwZW5kQ2hpbGQoXG4gICAgQnV0dG9uKFxuICAgICAgXCJlZGl0LXByb2plY3QtYnV0dG9uXCIsXG4gICAgICBcInN1Ym1pdFwiLFxuICAgICAgYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIgPyBcImFkZCBuZXcgcHJvamVjdFwiIDogXCJzdWJtaXRcIlxuICAgIClcbiAgKVxuXG5cbiAgYWMocHJvamVjdFdyYXAsIGZvcm0pXG5cblxuICAvKioqKioqKioqKlxuICAgU1VCTUlUIEZPUk1cbiAgKioqKioqKioqKiovXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBhc3luYyAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zb2xlLmxvZyhcImFkZFwiLCBhZGRQcm9qZWN0KVxuXG4gICAgY29uc3QgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFt0eXBlPWNoZWNrYm94XTpjaGVja2VkXCIpXG4gICAgY29uc29sZS5sb2coY2hlY2tib3hlcylcbiAgICBuZXdQcm9qZWN0LnRlY2hub2xvZ2llcyA9IFtdXG4gICAgY2hlY2tib3hlcy5mb3JFYWNoKChib3gpID0+IHtcbiAgICAgIG5ld1Byb2plY3QudGVjaG5vbG9naWVzLnB1c2goYm94LnZhbHVlKVxuICAgIH0pXG4gICAgY29uc29sZS5sb2coXCJhZGRcIiwgbmV3UHJvamVjdClcbiAgICBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIlxuICAgICAgPyBhd2FpdCBhZGROZXdQcm9qZWN0KG5ld1Byb2plY3QpXG4gICAgICA6IGF3YWl0IHVwZGF0ZVByb2plY3QobmV3UHJvamVjdCwgcHJvamVjdC5pZClcblxuICAgIGF3YWl0IFByb2plY3RzKClcbiAgfSlcbn1cbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3Byb2plY3RzLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7Il0sInNvdXJjZVJvb3QiOiIifQ==