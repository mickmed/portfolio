(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{114:function(t,e,n){var o=n(1),a=n(115);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1},l=(o(a,i),a.locals?a.locals:{});t.exports=l},115:function(t,e,n){},122:function(t,e,n){"use strict";n.r(e),n.d(e,"Signup",(function(){return i}));var o=n(93),a=n(0);n(114);const i=async()=>{console.log("here"),console.log("EDIT PROJECTS");let t=Object(a.e)(".main-content-scrollable");for(;t.childNodes.length>1;)t.removeChild(t.lastChild);let e={user:{}},n=Object(a.c)("div","sign-up"),i=Object(a.c)("form","login-form");["username","email","password"].map(t=>{let n=i.appendChild(Object(a.c)("label","login-label"));n.setAttribute("for",t),n.innerText=t;let o=i.appendChild(Object(a.c)("input",`login-${t}`));o.setAttribute("id",t),o.setAttribute("name",t),o.addEventListener("keyup",t=>{console.log(t.target.name,t.target.value),e.user[t.target.name]=t.target.value})});const l=Object(a.c)("button","submit-login");l.innerText="signUp",i.appendChild(l),i.addEventListener("submit",async t=>{t.preventDefault(),console.log("body",e);let n=await Object(o.c)(e);console.log(n)});let r=Object(a.c)("button","login");r.classList.add("login-btn");let c=await Object(o.d)();if(c.errors){console.log("logout due to error"),Object(o.b)();Object(a.c)("button","login")}r.innerText=c?"logout":"login",r.addEventListener("click",async()=>{if(console.log(c),c||0===Object.keys(e.user).length){await Object(o.b)()&&(r.innerText="login")}else{e={auth:{...e.user}};await Object(o.a)(e);let t=await Object(o.d)();r.innerText=t&&"logout"}}),n.appendChild(i),n.appendChild(r),t.appendChild(n)}},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o=()=>"https://portfolio-mick-server.herokuapp.com"},93:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return c}));var o=n(91);const a=Object(o.a)();const i=async t=>(console.log(JSON.stringify(t)),await fetch(a+"/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>(localStorage.setItem("authToken",t.token),t))),l=async t=>await fetch(a+"/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(t=>t.json()).then(t=>(localStorage.setItem("authToken",t.token),t)),r=async()=>{if(localStorage.getItem("authToken")){return await fetch(a+"/auth/verify",{method:"get",headers:(t={"Content-Type":"application/json"},localStorage.authToken?{...t,Authorization:`Bearer ${localStorage.authToken}`}:t)}).then(t=>t.json()).then(t=>t)}var t;return!1},c=async()=>(localStorage.removeItem("authToken"),{"Content-Type":"application/json"},"logged out")}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Mb2dpbi9zaWdudXAuc2Nzcz9lNThmIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0xvZ2luL1NpZ25VcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9CYXNlVXJsLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaUF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJTaWdudXAiLCJhc3luYyIsImNvbnNvbGUiLCJsb2ciLCJtYWluQ29udGVudCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsImJvZHkiLCJ1c2VyIiwic2lnblVwRGl2IiwiZm9ybSIsIm1hcCIsImVsIiwibGFiZWwiLCJhcHBlbmRDaGlsZCIsInNldEF0dHJpYnV0ZSIsImlubmVyVGV4dCIsImlucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJuYW1lIiwidmFsdWUiLCJidXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsInNpZ25VcFJlcyIsImxvZ2luQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiY3VycmVudFVzZXIiLCJlcnJvcnMiLCJPYmplY3QiLCJrZXlzIiwiYXV0aCIsIkJhc2VVcmwiLCJiYXNlVXJsIiwic2lnblVwIiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInRoZW4iLCJqc29uIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ0b2tlbiIsImxvZ2luIiwidmVyaWZ5IiwiZ2V0SXRlbSIsImF1dGhUb2tlbiIsIkF1dGhvcml6YXRpb24iLCJsb2dvdXQiLCJyZW1vdmVJdGVtIl0sIm1hcHBpbmdz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TUMsR0FDRUEsRUFBS0EsUUFFYkQsS0FBTUUsSUFDTEMsYUFBYUMsUUFBUSxZQUFhRixFQUFLRyxPQUVoQ0gsSUFNQUssRUFBU2xELFVBR3BCLEdBRmM4QyxhQUFhSyxRQUFRLGFBRXhCLENBY1QsYUFia0JYLE1BQU1KLEVBQVUsZUFBZ0IsQ0FDaERLLE9BQVEsTUFDUkMsU0E3RHFCQSxFQTZERCxDQUNsQixlQUFnQixvQkE3RGxCSSxhQUFhTSxVQUNSLElBQ0ZWLEVBQ0hXLGNBQWUsVUFBVVAsYUFBYU0sYUFHakNWLEtBMERKQyxLQUFNQyxHQUNFQSxFQUFLQSxRQUViRCxLQUFNRSxHQUNFQSxHQXJFUixJQUFvQkgsRUEyRXpCLE9BQU8sR0FzQklZLEVBQVN0RCxVQUNwQjhDLGFBQWFTLFdBQVcsYUFDWCxDQUNYLGVBQWdCLG9CQUVYIiwiZmlsZSI6IjMuYTNhYTQ2ZjY0MDEwMDg1N2I2ZjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zaWdudXAuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJpbXBvcnQge1xuIFxuICBzaWduVXAsXG4gIGxvZ2luLFxuICB2ZXJpZnksXG4gIGxvZ291dCxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaUF1dGguanNcIlxuaW1wb3J0IHsgY2VjbCwgcXMgfSBmcm9tIFwiLi4vSGVscGVycy9kb21IZWxwZXIuanNcIlxuaW1wb3J0IFwiLi9zaWdudXAuc2Nzc1wiXG5cblxuXG5cbmV4cG9ydCBjb25zdCBTaWdudXAgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdoZXJlJylcblxuICAvLyBjb25zdCBib2R5ID0ge1xuICAvLyAgIHVzZXI6IHsgdXNlcm5hbWU6IFwidGVkXCIsIGVtYWlsOiBcInRlZEB0ZWQuY29tXCIsIHBhc3N3b3JkOiBcIjEyMzQ1NlwiIH0sXG4gIC8vIH1cbiAgY29uc29sZS5sb2coXCJFRElUIFBST0pFQ1RTXCIpXG4gIGxldCBtYWluQ29udGVudCA9IHFzKFwiLm1haW4tY29udGVudC1zY3JvbGxhYmxlXCIpXG4gIHdoaWxlIChtYWluQ29udGVudC5jaGlsZE5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICBtYWluQ29udGVudC5yZW1vdmVDaGlsZChtYWluQ29udGVudC5sYXN0Q2hpbGQpXG4gIH1cblxuICBjb25zdCBpbnB1dHMgPSBbXCJ1c2VybmFtZVwiLCBcImVtYWlsXCIsIFwicGFzc3dvcmRcIl1cbiAgLy8gY29uc3QgYm9keSA9IHt1c2VybmFtZTonJywgZW1haWw6JycsIHBhc3N3b3JkOicnfVxuICBsZXQgYm9keSA9IHsgdXNlcjoge30gfVxuXG4gIGxldCBzaWduVXBEaXYgPSBjZWNsKFwiZGl2XCIsIFwic2lnbi11cFwiKVxuICBsZXQgZm9ybSA9IGNlY2woXCJmb3JtXCIsIFwibG9naW4tZm9ybVwiKVxuXG4gIGlucHV0cy5tYXAoKGVsKSA9PiB7XG4gICAgbGV0IGxhYmVsID0gZm9ybS5hcHBlbmRDaGlsZChjZWNsKGBsYWJlbGAsIGBsb2dpbi1sYWJlbGApKVxuICAgIGxhYmVsLnNldEF0dHJpYnV0ZShgZm9yYCwgZWwpXG4gICAgbGFiZWwuaW5uZXJUZXh0ID0gZWxcbiAgICBsZXQgaW5wdXQgPSBmb3JtLmFwcGVuZENoaWxkKGNlY2woXCJpbnB1dFwiLCBgbG9naW4tJHtlbH1gKSlcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoYGlkYCwgZWwpXG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKGBuYW1lYCwgZWwpXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlLnRhcmdldC5uYW1lLCBlLnRhcmdldC52YWx1ZSlcbiAgICAgIGJvZHkudXNlcltlLnRhcmdldC5uYW1lXSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgfSlcbiAgfSlcbiAgY29uc3QgYnV0dG9uID0gY2VjbChcImJ1dHRvblwiLCBcInN1Ym1pdC1sb2dpblwiKVxuICBidXR0b24uaW5uZXJUZXh0ID0gXCJzaWduVXBcIlxuICBmb3JtLmFwcGVuZENoaWxkKGJ1dHRvbilcbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coXCJib2R5XCIsIGJvZHkpXG4gICAgbGV0IHNpZ25VcFJlcyA9IGF3YWl0IHNpZ25VcChib2R5KVxuICAgIGNvbnNvbGUubG9nKHNpZ25VcFJlcylcbiAgfSlcblxuICBsZXQgbG9naW5CdXR0b24gPSBjZWNsKFwiYnV0dG9uXCIsIFwibG9naW5cIilcbiAgbG9naW5CdXR0b24uY2xhc3NMaXN0LmFkZCgnbG9naW4tYnRuJylcblxuICBcbiAgbGV0IGN1cnJlbnRVc2VyID0gYXdhaXQgdmVyaWZ5KClcbiAgaWYoY3VycmVudFVzZXIuZXJyb3JzKXtcbiAgICBjb25zb2xlLmxvZygnbG9nb3V0IGR1ZSB0byBlcnJvcicpXG4gICAgbG9nb3V0KClcbiAgICBsZXQgbG9naW5CdXR0b24gPSBjZWNsKFwiYnV0dG9uXCIsIFwibG9naW5cIilcblxuXG4gIH1cbiAgXG5cbiAgbG9naW5CdXR0b24uaW5uZXJUZXh0ID0gY3VycmVudFVzZXIgPyAnbG9nb3V0JyA6ICdsb2dpbicgXG4gIFxuXG4gIGxvZ2luQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gbGV0IGN1cnJlbnRVc2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKVxuICAgIGNvbnNvbGUubG9nKGN1cnJlbnRVc2VyKVxuXG4gICAgaWYgKCFjdXJyZW50VXNlciAmJiBPYmplY3Qua2V5cyhib2R5LnVzZXIpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgYm9keSA9IHsgYXV0aDogeyAuLi5ib2R5LnVzZXIgfSB9XG4gICAgIFxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBsb2dpbihib2R5KVxuICAgICAgbGV0IGN1cnJlbnRVc2VyID0gYXdhaXQgdmVyaWZ5KClcbiAgICAgIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IGN1cnJlbnRVc2VyICYmICdsb2dvdXQnXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXNMb2dvdXQgPSBhd2FpdCBsb2dvdXQoKVxuXG4gICAgICBpZiAocmVzTG9nb3V0KSB7XG4gICAgICAgIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IFwibG9naW5cIlxuICAgICAgICBcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgc2lnblVwRGl2LmFwcGVuZENoaWxkKGZvcm0pXG4gIHNpZ25VcERpdi5hcHBlbmRDaGlsZChsb2dpbkJ1dHRvbilcbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoc2lnblVwRGl2KVxuXG4gIFxufVxuIiwiXG5leHBvcnQgY29uc3QgQmFzZVVybCA9ICgpID0+IHtcblxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gJ2h0dHBzOi8vcG9ydGZvbGlvLW1pY2stc2VydmVyLmhlcm9rdWFwcC5jb20nIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCdcblxufSIsImltcG9ydCB7IEJhc2VVcmwgfSBmcm9tIFwiLi9CYXNlVXJsLmpzXCJcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhlYWRlcnMoaGVhZGVycykge1xuICBpZiAobG9jYWxTdG9yYWdlLmF1dGhUb2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oZWFkZXJzLFxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5hdXRoVG9rZW59YCxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJIZWFkZXJzKGhlYWRlcnMpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5oZWFkZXJzLFxuICAgIEF1dGhvcml6YXRpb246IG51bGwsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuXG4gIGxldCByZXMgPSBhd2FpdCBmZXRjaChiYXNlVXJsICsgXCIvdXNlcnNcIiwge1xuICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICB9KVxuICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImF1dGhUb2tlblwiLCBkYXRhLnRva2VuKVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0pXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKGJhc2VVcmwgKyBcIi9hdXRoL2xvZ2luXCIsIHtcbiAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhdXRoVG9rZW5cIiwgZGF0YS50b2tlbilcblxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9KVxuXG4gIHJldHVybiByZXNcbn1cblxuZXhwb3J0IGNvbnN0IHZlcmlmeSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhUb2tlblwiKVxuICAvLyBjb25zb2xlLmxvZyh0b2tlbilcbiAgaWYgKHRva2VuKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYmFzZVVybCArIFwiL2F1dGgvdmVyaWZ5XCIsIHtcbiAgICAgIG1ldGhvZDogXCJnZXRcIixcbiAgICAgIGhlYWRlcnM6IHNldEhlYWRlcnMoe1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgfSlcblxuICAgIHJldHVybiByZXNcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhUb2tlblwiKSkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiaGVyZVwiLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhUb2tlblwiKSlcbiAgICBsZXQgdXNlciA9IGF3YWl0IHZlcmlmeSgpXG4gICAgY29uc29sZS5sb2codXNlcilcbiAgICBpZiAoIXVzZXIuZXJyb3JzKSB7XG4gICAgICAvLyBsb2dpbkJ1dHRvbi5pbm5lclRleHQgPSBcImxvZ291dFwiXG4gICAgICAvLyBsb2dnZWRJbiA9IHRydWVcbiAgICAgIHJldHVybiB1c2VyXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGxvZ2luQnV0dG9uLmlubmVyVGV4dCA9IFwibG9naW5cIlxuXG4gICAgLy8gbG9nZ2VkSW4gPSBmYWxzZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGNvbnNvbGUubG9nKGxvZ2dlZEluKVxufVxuXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImF1dGhUb2tlblwiKVxuICBjbGVhckhlYWRlcnMoe1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9KVxuICByZXR1cm4gXCJsb2dnZWQgb3V0XCJcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=